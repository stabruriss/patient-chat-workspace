<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Workbench</title>
<script src="https://cdn.tailwindcss.com/3.4.16"></script>
<script>tailwind.config={theme:{extend:{colors:{primary:'#4f46e5',secondary:'#8b5cf6'},borderRadius:{'none':'0px','sm':'4px',DEFAULT:'8px','md':'12px','lg':'16px','xl':'20px','2xl':'24px','3xl':'32px','full':'9999px','button':'8px'}}}}</script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.5.0/echarts.min.js"></script>
<script src="workflow-templates-data.js"></script>
<style>
:where([class^="ri-"])::before { content: "\f3c2"; }
body {
font-family: 'Inter', sans-serif;
}
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
-webkit-appearance: none;
margin: 0;
}
.custom-checkbox {
position: relative;
display: inline-block;
width: 18px;
height: 18px;
border-radius: 4px;
border: 2px solid #d1d5db;
background-color: white;
transition: all 0.2s ease;
}
.custom-checkbox.checked {
background-color: #4f46e5;
border-color: #4f46e5;
}
.custom-checkbox.checked::after {
content: '';
position: absolute;
left: 5px;
top: 2px;
width: 5px;
height: 9px;
border: solid white;
border-width: 0 2px 2px 0;
transform: rotate(45deg);
}
.custom-switch {
position: relative;
display: inline-block;
width: 40px;
height: 22px;
}
.custom-switch input {
opacity: 0;
width: 0;
height: 0;
}
.switch-slider {
position: absolute;
cursor: pointer;
top: 0;
left: 0;
right: 0;
bottom: 0;
background-color: #e5e7eb;
transition: .4s;
border-radius: 34px;
}
.switch-slider:before {
position: absolute;
content: "";
height: 18px;
width: 18px;
left: 2px;
bottom: 2px;
background-color: white;
transition: .4s;
border-radius: 50%;
}
input:checked + .switch-slider {
background-color: #4f46e5;
}
input:checked + .switch-slider:before {
transform: translateX(18px);
}
.tab-content {
display: none;
}
.tab-content.active {
display: block;
}
.workbench-nav-item.active {
color: #4f46e5;
background-color: rgba(79, 70, 229, 0.05);
border-left: 3px solid #4f46e5;
}
.task-item.completed .task-checkbox {
background-color: #4f46e5;
border-color: #4f46e5;
}
.task-item.completed .task-checkbox::after {
content: '';
position: absolute;
left: 5px;
top: 2px;
width: 5px;
height: 9px;
border: solid white;
border-width: 0 2px 2px 0;
transform: rotate(45deg);
}
.task-item.completed .task-title {
text-decoration: line-through;
color: #9ca3af;
}
.template-card:hover .template-actions {
opacity: 1;
}
</style>
</head>
<body class="bg-gray-50 h-screen flex flex-col">
<!-- Page Switch Tabs -->
<div class="w-full bg-white border-b border-gray-200">
<div class="max-w-screen-2xl mx-auto px-4">
<div class="flex items-center justify-between">
<div class="grid grid-cols-4 gap-4 flex-1">
<a href="index.html" class="page-tab py-4 text-sm font-medium text-gray-500 hover:text-gray-700 flex items-center justify-center whitespace-nowrap" data-page="patients">
<div class="w-4 h-4 flex items-center justify-center mr-2">
<i class="ri-user-heart-line"></i>
</div>
My Patients
</a>
<a href="my-calendar.html" class="page-tab py-4 text-sm font-medium text-gray-500 hover:text-gray-700 flex items-center justify-center whitespace-nowrap" data-page="calendar">
<div class="w-4 h-4 flex items-center justify-center mr-2">
<i class="ri-calendar-2-line"></i>
</div>
My Calendar
</a>
<a href="Healthcare-Provider-Workbench.html" class="page-tab py-4 text-sm font-medium text-primary bg-primary/5 flex items-center justify-center whitespace-nowrap active" data-page="workbench">
<div class="w-4 h-4 flex items-center justify-center mr-2">
<i class="ri-dashboard-line"></i>
</div>
My Workbench
</a>
<a href="My-Practice-Dashboard.html" class="page-tab py-4 text-sm font-medium text-gray-500 hover:text-gray-700 flex items-center justify-center whitespace-nowrap" data-page="practice">
<div class="w-4 h-4 flex items-center justify-center mr-2">
<i class="ri-hospital-line"></i>
</div>
My Practice
</a>
</div>
<div class="relative">
<button id="profileDropdownBtn" class="flex items-center space-x-3 py-2 px-3 hover:bg-gray-50 rounded-lg">
<div class="flex items-center">
<div class="w-8 h-8 rounded-full overflow-hidden cursor-pointer">
<img id="profileImage" src="https://readdy.ai/api/search-image?query=professional%2520headshot%2520of%2520a%2520female%2520doctor%2520with%2520a%2520warm%2520smile%252C%2520wearing%2520a%2520white%2520coat%252C%2520natural%2520lighting%252C%2520high%2520quality%2520studio%2520portrait&width=100&height=100&seq=1&orientation=squarish" alt="Profile" class="w-full h-full object-cover object-top">
</div>
<div class="w-4 h-4 flex items-center justify-center ml-2 text-gray-500">
<i class="ri-arrow-down-s-line"></i>
</div>
</div>
</button>
<div id="profileDropdown" class="hidden absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50">
<div class="px-4 py-3 border-b border-gray-100">
<div class="flex items-center">
<div class="w-12 h-12 rounded-full overflow-hidden mr-3">
<img src="https://readdy.ai/api/search-image?query=professional%2520headshot%2520of%2520a%2520female%2520doctor%2520with%2520a%2520warm%2520smile%252C%2520wearing%2520a%2520white%2520coat%252C%2520natural%2520lighting%252C%2520high%2520quality%2520studio%2520portrait&width=100&height=100&seq=1&orientation=squarish" alt="Profile" class="w-full h-full object-cover object-top">
</div>
<div>
<p class="text-sm font-medium text-gray-900">Dr. Sarah Mitchell</p>
<p class="text-xs text-gray-500">s.mitchell@eastsidefm.com</p>
<p class="text-xs text-gray-500 mt-1"></p>
</div>
</div>
</div>
<div class="px-4 py-2">
<div class="space-y-1">
<a href="#" id="accountInfoBtn" class="flex items-center px-3 py-2 text-sm text-gray-700 rounded-lg hover:bg-gray-50">
<div class="w-4 h-4 flex items-center justify-center mr-3">
<i class="ri-user-settings-line"></i>
</div>
Account Info
<div class="w-4 h-4 flex items-center justify-center ml-auto text-gray-400">
<i class="ri-arrow-right-s-line"></i>
</div>
</a>
</div>
</div>
<div class="border-t border-gray-100 mt-2">
<div class="px-4 py-2">
<div class="space-y-1">
<a href="#" id="associatedPracticesBtn" class="flex items-center px-3 py-2 text-sm text-gray-700 rounded-lg hover:bg-gray-50">
<div class="w-4 h-4 flex items-center justify-center mr-3">
<i class="ri-hospital-line"></i>
</div>
Associated Practice(s)
</a>
<!-- Associated Practices Modal -->
<div id="associatedPracticesModal" class="hidden fixed inset-0 bg-gray-500 bg-opacity-50 flex items-center justify-center z-50">
<div class="bg-white rounded-lg w-[480px] max-h-[90vh] overflow-y-auto">
<div class="p-6">
<div class="flex items-center justify-between mb-6">
<h2 class="text-lg font-semibold text-gray-900">Associated Practices</h2>
<button id="closeAssociatedPracticesModal" class="text-gray-400 hover:text-gray-600">
<i class="ri-close-line text-xl"></i>
</button>
</div>
<div class="space-y-4">
<!-- Current Practice -->
<div class="p-4 bg-primary/5 border border-primary/20 rounded-lg">
<div class="flex items-center justify-between">
<div class="flex items-center">
<div class="w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center mr-3">
<i class="ri-hospital-fill text-primary"></i>
</div>
<div>
<p class="text-sm font-medium text-gray-900">Eastside Family Medicine</p>
<p class="text-xs text-gray-500">Primary Care Practice</p>
</div>
</div>
<div class="flex items-center space-x-2">
<button id="eastsideWalletBtn" class="p-2 text-primary hover:bg-primary/10 rounded-lg transition-colors" title="Wallet Settings">
<i class="ri-wallet-3-line text-lg"></i>
</button>
<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary/10 text-primary">
Current
</span>
</div>
</div>
<div class="mt-3 flex items-center text-xs text-gray-500">
<div class="w-4 h-4 flex items-center justify-center mr-1">
<i class="ri-user-star-line"></i>
</div>
Role: Practice Owner
</div>
</div>
<!-- Other Practices -->
<div class="p-4 border border-gray-200 rounded-lg hover:border-primary/20 transition-colors">
<div class="flex items-center justify-between">
<div class="flex items-center">
<div class="w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center mr-3">
<i class="ri-hospital-line text-gray-600"></i>
</div>
<div>
<p class="text-sm font-medium text-gray-900">Westside Medical Center</p>
<p class="text-xs text-gray-500">Multi-specialty Clinic</p>
</div>
</div>
<div class="flex items-center space-x-2">
<button id="westsideWalletBtn" class="relative p-2 text-gray-600 hover:text-primary hover:bg-primary/10 rounded-lg transition-colors" title="Personal Wallet Settings (Not in use - Practice uses shared mode)">
<i class="ri-wallet-3-line text-lg"></i>
<div class="absolute -top-1 -right-1 w-3 h-3 bg-orange-500 rounded-full flex items-center justify-center">
<i class="ri-close-line text-white text-xs"></i>
</div>
</button>
<button class="px-3 py-1.5 text-sm text-primary border border-primary/20 bg-primary/5 rounded-button whitespace-nowrap hover:bg-primary/10">Switch</button>
</div>
</div>
<div class="mt-3 flex items-center text-xs text-gray-500">
<div class="w-4 h-4 flex items-center justify-center mr-1">
<i class="ri-user-star-line"></i>
</div>
Role: Consulting Physician
</div>
</div>
<div class="p-4 border border-gray-200 rounded-lg hover:border-primary/20 transition-colors">
<div class="flex items-center justify-between">
<div class="flex items-center">
<div class="w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center mr-3">
<i class="ri-hospital-line text-gray-600"></i>
</div>
<div>
<p class="text-sm font-medium text-gray-900">Downtown Health Partners</p>
<p class="text-xs text-gray-500">Family Practice</p>
</div>
</div>
<div class="flex items-center space-x-2">
<button id="downtownWalletBtn" class="p-2 text-gray-600 hover:text-primary hover:bg-primary/10 rounded-lg transition-colors" title="Wallet Settings">
<i class="ri-wallet-3-line text-lg"></i>
</button>
<button class="px-3 py-1.5 text-sm text-primary border border-primary/20 bg-primary/5 rounded-button whitespace-nowrap hover:bg-primary/10">Switch</button>
</div>
</div>
<div class="mt-3 flex items-center text-xs text-gray-500">
<div class="w-4 h-4 flex items-center justify-center mr-1">
<i class="ri-user-star-line"></i>
</div>
Role: Associate Physician
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- Personal Wallet Modal -->
<div id="personalWalletModal" class="hidden fixed inset-0 bg-gray-500 bg-opacity-50 flex items-center justify-center z-50">
<div class="bg-white rounded-lg w-[480px] max-h-[90vh] overflow-y-auto">
<div class="p-6">
<div class="flex items-center justify-between mb-6">
<h2 class="text-lg font-semibold text-gray-900">Personal Wallet Settings</h2>
<button id="closeWalletModal" class="text-gray-400 hover:text-gray-600">
<i class="ri-close-line text-xl"></i>
</button>
</div>
<!-- Practice Mode Info -->
<div class="mb-6 p-4 bg-blue-50 rounded-lg">
<div class="flex items-start">
<div class="w-5 h-5 flex-shrink-0 text-blue-500 mt-0.5">
<i class="ri-information-line"></i>
</div>
<div class="ml-3">
<h3 class="text-sm font-medium text-blue-900">Current Practice Mode: Personal</h3>
<p class="mt-1 text-sm text-blue-700">This practice operates in personal mode, where each provider manages their own wallet for transactions. All earnings and expenses will be processed through your personal wallet.</p>
</div>
</div>
</div>
<!-- Wallet Balance -->
<div class="bg-gray-50 rounded-lg p-6 mb-6">
<h3 class="text-sm font-medium text-gray-700 mb-2">Dr. Sarah Mitchell's Personal Wallet</h3>
<div class="flex items-center justify-between">
<div>
<p class="text-2xl font-semibold text-gray-900">$200.00</p>
<p class="text-sm text-gray-500 mt-1">Available Balance</p>
</div>
<div class="flex space-x-3">
<button class="px-4 py-2 text-sm text-primary border border-primary/20 bg-primary/5 rounded-button flex items-center whitespace-nowrap hover:bg-primary/10">
<i class="ri-add-line mr-2"></i>
Top Up
</button>
<button class="px-4 py-2 text-sm text-gray-700 border border-gray-200 rounded-button flex items-center whitespace-nowrap hover:bg-gray-50">
<i class="ri-bank-card-line mr-2"></i>
Withdraw
</button>
</div>
</div>
</div>
<!-- Payment Methods -->
<div class="mb-6">
<h3 class="text-sm font-medium text-gray-900 mb-4">Payment Methods</h3>
<p class="text-xs text-gray-500 mb-4">Drag and drop to set payment priority</p>
<div id="payment-methods-list" class="space-y-3">
<div class="flex items-center justify-between p-3 border border-gray-200 rounded-lg bg-white cursor-move hover:border-primary/20 transition-colors" draggable="true" data-payment-id="visa">
<div class="flex items-center">
<div class="w-8 h-8 flex items-center justify-center text-gray-400 cursor-move">
<i class="ri-drag-move-line"></i>
</div>
<div class="w-8 h-8 flex items-center justify-center text-[#1A1F71]">
<i class="ri-visa-fill text-xl"></i>
</div>
<div class="ml-3">
<p class="text-sm font-medium text-gray-900">Visa ending in 4242</p>
<p class="text-xs text-gray-500">Expires 12/25</p>
</div>
</div>
<button class="text-sm text-gray-500 hover:text-primary">Remove</button>
</div>
<div class="flex items-center justify-between p-3 border border-gray-200 rounded-lg bg-white cursor-move hover:border-primary/20 transition-colors" draggable="true" data-payment-id="bank">
<div class="flex items-center">
<div class="w-8 h-8 flex items-center justify-center text-gray-400 cursor-move">
<i class="ri-drag-move-line"></i>
</div>
<div class="w-8 h-8 flex items-center justify-center text-[#1A1F71]">
<i class="ri-bank-fill text-xl"></i>
</div>
<div class="ml-3">
<p class="text-sm font-medium text-gray-900">Chase Bank Account</p>
<p class="text-xs text-gray-500">****8965</p>
</div>
</div>
<button class="text-sm text-gray-500 hover:text-primary">Remove</button>
</div>
<div class="flex items-center justify-between p-3 border border-gray-200 rounded-lg bg-white cursor-move hover:border-primary/20 transition-colors" draggable="true" data-payment-id="wallet">
<div class="flex items-center">
<div class="w-8 h-8 flex items-center justify-center text-gray-400 cursor-move">
<i class="ri-drag-move-line"></i>
</div>
<div class="w-8 h-8 flex items-center justify-center text-primary">
<i class="ri-wallet-3-fill text-xl"></i>
</div>
<div class="ml-3">
<p class="text-sm font-medium text-gray-900">Wallet Credit</p>
<p class="text-xs text-gray-500">Balance: $200.00</p>
</div>
</div>
<button class="text-sm text-gray-500 hover:text-primary">Remove</button>
</div>
</div>
<button class="w-full mt-3 px-4 py-2 text-sm text-primary border border-primary/20 bg-primary/5 rounded-button flex items-center justify-center whitespace-nowrap hover:bg-primary/10">
<i class="ri-add-line mr-2"></i>
Add Payment Method
</button>
</div>
<script>
document.addEventListener('DOMContentLoaded', function() {
// Load workflow templates
loadWorkflowTemplates();

// Handle practice mode radio buttons
const personalModeRadio = document.getElementById('personal-mode');
const sharedModeRadio = document.getElementById('shared-mode');
const personalModeIndicator = personalModeRadio?.nextElementSibling.querySelector('.w-2.h-2');
const sharedModeIndicator = sharedModeRadio?.nextElementSibling.querySelector('.w-2.h-2');
const sharedModeExplanation = document.getElementById('shared-mode-explanation');
if (personalModeRadio && sharedModeRadio) {
personalModeRadio.addEventListener('change', function() {
if (this.checked) {
personalModeIndicator.classList.remove('bg-transparent');
personalModeIndicator.classList.add('bg-primary');
sharedModeIndicator.classList.remove('bg-primary');
sharedModeIndicator.classList.add('bg-transparent');
sharedModeExplanation.classList.add('hidden');
}
});
sharedModeRadio.addEventListener('change', function() {
if (this.checked) {
sharedModeIndicator.classList.remove('bg-transparent');
sharedModeIndicator.classList.add('bg-primary');
personalModeIndicator.classList.remove('bg-primary');
personalModeIndicator.classList.add('bg-transparent');
sharedModeExplanation.classList.remove('hidden');
}
});
}
const list = document.getElementById('payment-methods-list');
let draggingElement = null;
// Add drag start event
list.addEventListener('dragstart', (e) => {
draggingElement = e.target;
e.target.classList.add('opacity-50');
// Add visual feedback
e.target.style.backgroundColor = '#f3f4f6';
});
// Add drag end event
list.addEventListener('dragend', (e) => {
draggingElement = null;
e.target.classList.remove('opacity-50');
// Remove visual feedback
e.target.style.backgroundColor = '';
});
// Add drag over event
list.addEventListener('dragover', (e) => {
e.preventDefault();
const afterElement = getDragAfterElement(list, e.clientY);
const currentElement = draggingElement;
if (afterElement == null) {
list.appendChild(currentElement);
} else {
list.insertBefore(currentElement, afterElement);
}
});
function getDragAfterElement(container, y) {
const draggableElements = [...container.querySelectorAll('[draggable="true"]:not(.opacity-50)')];
return draggableElements.reduce((closest, child) => {
const box = child.getBoundingClientRect();
const offset = y - box.top - box.height / 2;
if (offset < 0 && offset > closest.offset) {
return { offset: offset, element: child };
} else {
return closest;
}
}, { offset: Number.NEGATIVE_INFINITY }).element;
}

// Workflow template loading functions
async function loadWorkflowTemplates() {
    try {
        console.log('Loading workflow templates...');
        const response = await fetch('./workflow-templates.json');
        const data = await response.json();
        if (Array.isArray(data?.templates) && data.templates.length) {
            console.log('Templates loaded:', data.templates);
            renderWorkflowTemplates(data.templates);
            return;
        }
        console.warn('Workflow templates JSON missing templates array, using fallback data');
    } catch (error) {
        console.error('Error loading workflow templates:', error);
    }

    if (!renderFallbackTemplates()) {
        showStaticTemplates();
    }
}

function renderWorkflowTemplates(templates) {
    const grid = document.getElementById('workflowTemplatesGrid');
    console.log('Grid element found:', grid);
    console.log('Rendering templates:', templates);
    if (!grid) {
        console.error('workflowTemplatesGrid element not found!');
        return;
    }

    grid.innerHTML = templates.map(template => createTemplateCard(template)).join('');
    console.log('Templates rendered, grid HTML:', grid.innerHTML.substring(0, 200) + '...');
}

function createTemplateCard(template) {
    return `
        <div
            class="border border-gray-200 rounded-lg p-4 hover:border-primary/30 hover:bg-primary/5 transition-all duration-200 cursor-pointer"
            onclick="useWorkflowTemplate('${template.id}')"
        >
            <div class="flex items-start justify-between mb-4">
                <div class="w-10 h-10 bg-primary/5 rounded-lg flex items-center justify-center">
                    <div class="w-5 h-5 flex items-center justify-center text-primary">
                        <i class="ri-flow-chart"></i>
                    </div>
                </div>
                <div class="flex items-center space-x-2">
                    <span class="text-xs text-gray-500">${template.rating}</span>
                    <div class="flex items-center">
                        <i class="ri-star-fill text-yellow-400 text-xs"></i>
                    </div>
                </div>
            </div>
            <h3 class="text-sm font-medium text-gray-900 mb-1">${template.name}</h3>
            <p class="text-xs text-gray-500 mb-3">${template.description}</p>
        </div>
    `;
}

function renderFallbackTemplates() {
    const fallback = window.WORKFLOW_TEMPLATE_DATA?.templates;
    if (Array.isArray(fallback) && fallback.length) {
        console.log('Rendering templates from embedded fallback data');
        renderWorkflowTemplates(fallback);
        return true;
    }
    return false;
}

function showStaticTemplates() {
    console.warn('Falling back to minimal static workflow templates');
    renderWorkflowTemplates([
        {
            id: 'annual-wellness-visit',
            name: 'Annual Wellness Visit',
            description: 'Standard wellness check workflow',
            rating: 4.8,
            type: 'patient'
        },
        {
            id: 'diabetes-management',
            name: 'Diabetes Management',
            description: 'Comprehensive diabetes care plan',
            rating: 4.7,
            type: 'patient'
        },
        {
            id: 'test-reminder-90day',
            name: '90-Day Test Reminder',
            description: 'Automated follow-up testing reminder',
            rating: 4.6,
            type: 'patient'
        }
    ]);
}

});

// Global function for template usage (needs to be outside DOMContentLoaded for onclick access)
function useWorkflowTemplate(templateId) {
    // Store the template ID for the workflow composer
    sessionStorage.setItem('selectedTemplate', templateId);

    // Navigate to workflow composer
    window.location.href = `workflow-composer.html?template=${templateId}`;
}
</script>
<!-- Refund Method Settings -->
<div class="mb-6">
<h3 class="text-sm font-medium text-gray-900 mb-4">Refund Method Settings</h3>
<div class="space-y-4">
<div class="p-4 border border-gray-200 rounded-lg">
<div class="flex items-center justify-between mb-4">
<div class="flex items-center">
<div class="w-4 h-4 flex items-center justify-center text-gray-400 mr-2">
<i class="ri-refund-2-line"></i>
</div>
<p class="text-sm font-medium text-gray-900">Refund Method for Provider-paid Bills</p>
</div>
</div>
<div class="space-y-3">
<label class="flex items-center p-3 border border-gray-200 rounded-lg">
<input type="radio" name="refund-method" value="original" class="sr-only" checked>
<div class="w-4 h-4 border-2 border-gray-300 rounded-full mr-3 flex items-center justify-center">
<div class="w-2 h-2 bg-primary rounded-full"></div>
</div>
<span class="text-sm text-gray-700">Original Payment Method</span>
</label>
<label class="flex items-center p-3 border border-gray-200 rounded-lg">
<input type="radio" name="refund-method" value="wallet" class="sr-only">
<div class="w-4 h-4 border-2 border-gray-300 rounded-full mr-3 flex items-center justify-center">
<div class="w-2 h-2 bg-transparent rounded-full"></div>
</div>
<span class="text-sm text-gray-700">Wallet Credit</span>
</label>
</div>
</div>
</div>
</div>
<!-- Auto-withdraw Settings -->
<div class="mb-6">
<h3 class="text-sm font-medium text-gray-900 mb-4">Withdraw Settings</h3>
<div class="space-y-4">
<div class="p-4 border border-gray-200 rounded-lg">
<div class="flex items-center justify-between mb-4">
<div class="flex items-center">
<div class="w-4 h-4 flex items-center justify-center text-gray-400 mr-2">
<i class="ri-bank-line"></i>
</div>
<p class="text-sm font-medium text-gray-900">Withdraw Account</p>
</div>
<button class="text-sm text-primary hover:text-primary/80">Change</button>
</div>
<div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
<div class="flex items-center">
<div class="w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center mr-3">
<i class="ri-bank-line text-primary"></i>
</div>
<div>
<p class="text-sm font-medium text-gray-900">Chase Bank Account</p>
<p class="text-xs text-gray-500">****8965</p>
</div>
</div>
<div class="w-4 h-4 flex items-center justify-center text-green-500">
<i class="ri-checkbox-circle-fill"></i>
</div>
</div>
</div>
<div class="p-4 border border-gray-200 rounded-lg">
<div class="flex items-center justify-between mb-4">
<div class="flex items-center">
<div class="w-4 h-4 flex items-center justify-center text-gray-400 mr-2">
<i class="ri-money-dollar-circle-line"></i>
</div>
<p class="text-sm font-medium text-gray-900">Auto-withdraw Threshold</p>
</div>
<label class="custom-switch">
<input type="checkbox" checked>
<span class="switch-slider"></span>
</label>
</div>
<div class="relative">
<div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
<span class="text-gray-500 text-sm">$</span>
</div>
<input type="number" value="1000" class="pl-7 pr-4 py-2 w-full text-sm border border-gray-200 rounded-lg" placeholder="Enter amount">
</div>
<p class="text-xs text-gray-500 mt-2">Funds will be automatically withdrawn when your balance exceeds this amount</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>

        <!-- Eastside Family Medicine Wallet Modal -->
        <div id="eastsideWalletModal" class="hidden fixed inset-0 bg-gray-500 bg-opacity-50 flex items-center justify-center z-50">
            <div class="bg-white rounded-lg w-[480px] max-h-[90vh] overflow-y-auto">
                <div class="p-6">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-lg font-semibold text-gray-900">Eastside Family Medicine - Wallet Settings</h2>
                        <button id="closeEastsideWalletModal" class="text-gray-400 hover:text-gray-600">
                            <i class="ri-close-line text-xl"></i>
                        </button>
                    </div>
                    
                    <!-- Practice Mode Info -->
                    <div class="mb-6 p-4 bg-blue-50 rounded-lg">
                        <div class="flex items-start">
                            <div class="w-5 h-5 flex-shrink-0 text-blue-500 mt-0.5">
                                <i class="ri-information-line"></i>
                            </div>
                            <div class="ml-3">
                                <h3 class="text-sm font-medium text-blue-900">Practice Mode: Personal</h3>
                                <p class="mt-1 text-sm text-blue-700">This practice operates in personal mode, where each provider manages their own wallet for transactions. All earnings and expenses will be processed through your personal wallet for this practice.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Wallet Balance -->
                    <div class="bg-gray-50 rounded-lg p-6 mb-6">
                        <h3 class="text-sm font-medium text-gray-700 mb-2">Eastside Family Medicine Wallet</h3>
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-2xl font-semibold text-gray-900">$150.00</p>
                                <p class="text-sm text-gray-500 mt-1">Available Balance</p>
                            </div>
                            <div class="flex space-x-3">
                                <button class="px-4 py-2 text-sm text-primary border border-primary/20 bg-primary/5 rounded-button flex items-center whitespace-nowrap hover:bg-primary/10">
                                    <i class="ri-add-line mr-2"></i>
                                    Top Up
                                </button>
                                <button class="px-4 py-2 text-sm text-gray-700 border border-gray-200 rounded-button flex items-center whitespace-nowrap hover:bg-gray-50">
                                    <i class="ri-bank-card-line mr-2"></i>
                                    Withdraw
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Payment Methods -->
                    <div class="mb-6">
                        <h3 class="text-sm font-medium text-gray-900 mb-4">Payment Methods</h3>
                        <p class="text-xs text-gray-500 mb-4">Drag and drop to set payment priority</p>
                        <div class="space-y-3">
                            <div class="flex items-center justify-between p-3 border border-gray-200 rounded-lg bg-white cursor-move hover:border-primary/20 transition-colors" draggable="true">
                                <div class="flex items-center">
                                    <div class="w-8 h-8 flex items-center justify-center text-gray-400 cursor-move">
                                        <i class="ri-drag-move-line"></i>
                                    </div>
                                    <div class="w-8 h-8 flex items-center justify-center text-[#1A1F71]">
                                        <i class="ri-visa-fill text-xl"></i>
                                    </div>
                                    <div class="ml-3">
                                        <p class="text-sm font-medium text-gray-900">Visa ending in 4242</p>
                                        <p class="text-xs text-gray-500">Expires 12/25</p>
                                    </div>
                                </div>
                                <button class="text-sm text-gray-500 hover:text-primary">Remove</button>
                            </div>
                            <div class="flex items-center justify-between p-3 border border-gray-200 rounded-lg bg-white cursor-move hover:border-primary/20 transition-colors" draggable="true">
                                <div class="flex items-center">
                                    <div class="w-8 h-8 flex items-center justify-center text-gray-400 cursor-move">
                                        <i class="ri-drag-move-line"></i>
                                    </div>
                                    <div class="w-8 h-8 flex items-center justify-center text-primary">
                                        <i class="ri-wallet-3-fill text-xl"></i>
                                    </div>
                                    <div class="ml-3">
                                        <p class="text-sm font-medium text-gray-900">Wallet Credit</p>
                                        <p class="text-xs text-gray-500">Balance: $150.00</p>
                                    </div>
                                </div>
                                <button class="text-sm text-gray-500 hover:text-primary">Remove</button>
                            </div>
                        </div>
                        <button class="w-full mt-3 px-4 py-2 text-sm text-primary border border-primary/20 bg-primary/5 rounded-button flex items-center justify-center whitespace-nowrap hover:bg-primary/10">
                            <i class="ri-add-line mr-2"></i>
                            Add Payment Method
                        </button>
                    </div>

                    <!-- Auto-withdraw Settings -->
                    <div class="mb-6">
                        <h3 class="text-sm font-medium text-gray-900 mb-4">Withdraw Settings</h3>
                        <div class="space-y-4">
                            <div class="p-4 border border-gray-200 rounded-lg">
                                <div class="flex items-center justify-between mb-4">
                                    <div class="flex items-center">
                                        <div class="w-4 h-4 flex items-center justify-center text-gray-400 mr-2">
                                            <i class="ri-bank-line"></i>
                                        </div>
                                        <p class="text-sm font-medium text-gray-900">Withdraw Account</p>
                                    </div>
                                    <button class="text-sm text-primary hover:text-primary/80">Change</button>
                                </div>
                                <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                    <div class="flex items-center">
                                        <div class="w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center mr-3">
                                            <i class="ri-bank-line text-primary"></i>
                                        </div>
                                        <div>
                                            <p class="text-sm font-medium text-gray-900">Chase Bank Account</p>
                                            <p class="text-xs text-gray-500">****8965</p>
                                        </div>
                                    </div>
                                    <div class="w-4 h-4 flex items-center justify-center text-green-500">
                                        <i class="ri-checkbox-circle-fill"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="p-4 border border-gray-200 rounded-lg">
                                <div class="flex items-center justify-between mb-4">
                                    <div class="flex items-center">
                                        <div class="w-4 h-4 flex items-center justify-center text-gray-400 mr-2">
                                            <i class="ri-money-dollar-circle-line"></i>
                                        </div>
                                        <p class="text-sm font-medium text-gray-900">Auto-withdraw Threshold</p>
                                    </div>
                                    <label class="custom-switch">
                                        <input type="checkbox" checked>
                                        <span class="switch-slider"></span>
                                    </label>
                                </div>
                                <div class="relative">
                                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                        <span class="text-gray-500 text-sm">$</span>
                                    </div>
                                    <input type="number" value="800" class="pl-7 pr-4 py-2 w-full text-sm border border-gray-200 rounded-lg" placeholder="Enter amount">
                                </div>
                                <p class="text-xs text-gray-500 mt-2">Funds will be automatically withdrawn when your balance exceeds this amount</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Westside Medical Center Wallet Modal -->
        <div id="westsideWalletModal" class="hidden fixed inset-0 bg-gray-500 bg-opacity-50 flex items-center justify-center z-50">
            <div class="bg-white rounded-lg w-[480px] max-h-[90vh] overflow-y-auto">
                <div class="p-6">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-lg font-semibold text-gray-900">Westside Medical Center - Wallet Settings</h2>
                        <button id="closeWestsideWalletModal" class="text-gray-400 hover:text-gray-600">
                            <i class="ri-close-line text-xl"></i>
                        </button>
                    </div>
                    
                    <!-- Practice Mode Info -->
                    <div class="mb-6 p-4 bg-orange-50 rounded-lg">
                        <div class="flex items-start">
                            <div class="w-5 h-5 flex-shrink-0 text-orange-500 mt-0.5">
                                <i class="ri-information-line"></i>
                            </div>
                            <div class="ml-3">
                                <h3 class="text-sm font-medium text-orange-900">Practice Mode: Shared (Personal Wallet Not In Use)</h3>
                                <p class="mt-1 text-sm text-orange-700">This practice operates in shared mode, where all transactions are processed through the practice's shared wallet. Your personal wallet settings are maintained but not actively used for this practice.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Wallet Balance -->
                    <div class="bg-gray-50 rounded-lg p-6 mb-6">
                        <h3 class="text-sm font-medium text-gray-700 mb-2">Westside Medical Center Wallet</h3>
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-2xl font-semibold text-gray-900">$75.00</p>
                                <p class="text-sm text-gray-500 mt-1">Available Balance</p>
                            </div>
                            <div class="flex space-x-3">
                                <button class="px-4 py-2 text-sm text-primary border border-primary/20 bg-primary/5 rounded-button flex items-center whitespace-nowrap hover:bg-primary/10">
                                    <i class="ri-add-line mr-2"></i>
                                    Top Up
                                </button>
                                <button class="px-4 py-2 text-sm text-gray-700 border border-gray-200 rounded-button flex items-center whitespace-nowrap hover:bg-gray-50">
                                    <i class="ri-bank-card-line mr-2"></i>
                                    Withdraw
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Payment Methods -->
                    <div class="mb-6">
                        <h3 class="text-sm font-medium text-gray-900 mb-4">Payment Methods</h3>
                        <p class="text-xs text-gray-500 mb-4">Drag and drop to set payment priority</p>
                        <div class="space-y-3">
                            <div class="flex items-center justify-between p-3 border border-gray-200 rounded-lg bg-white cursor-move hover:border-primary/20 transition-colors" draggable="true">
                                <div class="flex items-center">
                                    <div class="w-8 h-8 flex items-center justify-center text-gray-400 cursor-move">
                                        <i class="ri-drag-move-line"></i>
                                    </div>
                                    <div class="w-8 h-8 flex items-center justify-center text-[#1A1F71]">
                                        <i class="ri-mastercard-fill text-xl"></i>
                                    </div>
                                    <div class="ml-3">
                                        <p class="text-sm font-medium text-gray-900">Mastercard ending in 1234</p>
                                        <p class="text-xs text-gray-500">Expires 08/26</p>
                                    </div>
                                </div>
                                <button class="text-sm text-gray-500 hover:text-primary">Remove</button>
                            </div>
                            <div class="flex items-center justify-between p-3 border border-gray-200 rounded-lg bg-white cursor-move hover:border-primary/20 transition-colors" draggable="true">
                                <div class="flex items-center">
                                    <div class="w-8 h-8 flex items-center justify-center text-gray-400 cursor-move">
                                        <i class="ri-drag-move-line"></i>
                                    </div>
                                    <div class="w-8 h-8 flex items-center justify-center text-primary">
                                        <i class="ri-wallet-3-fill text-xl"></i>
                                    </div>
                                    <div class="ml-3">
                                        <p class="text-sm font-medium text-gray-900">Wallet Credit</p>
                                        <p class="text-xs text-gray-500">Balance: $75.00</p>
                                    </div>
                                </div>
                                <button class="text-sm text-gray-500 hover:text-primary">Remove</button>
                            </div>
                        </div>
                        <button class="w-full mt-3 px-4 py-2 text-sm text-primary border border-primary/20 bg-primary/5 rounded-button flex items-center justify-center whitespace-nowrap hover:bg-primary/10">
                            <i class="ri-add-line mr-2"></i>
                            Add Payment Method
                        </button>
                    </div>

                    <!-- Auto-withdraw Settings -->
                    <div class="mb-6">
                        <h3 class="text-sm font-medium text-gray-900 mb-4">Withdraw Settings</h3>
                        <div class="space-y-4">
                            <div class="p-4 border border-gray-200 rounded-lg">
                                <div class="flex items-center justify-between mb-4">
                                    <div class="flex items-center">
                                        <div class="w-4 h-4 flex items-center justify-center text-gray-400 mr-2">
                                            <i class="ri-bank-line"></i>
                                        </div>
                                        <p class="text-sm font-medium text-gray-900">Withdraw Account</p>
                                    </div>
                                    <button class="text-sm text-primary hover:text-primary/80">Change</button>
                                </div>
                                <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                    <div class="flex items-center">
                                        <div class="w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center mr-3">
                                            <i class="ri-bank-line text-primary"></i>
                                        </div>
                                        <div>
                                            <p class="text-sm font-medium text-gray-900">Wells Fargo Account</p>
                                            <p class="text-xs text-gray-500">****5432</p>
                                        </div>
                                    </div>
                                    <div class="w-4 h-4 flex items-center justify-center text-green-500">
                                        <i class="ri-checkbox-circle-fill"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="p-4 border border-gray-200 rounded-lg">
                                <div class="flex items-center justify-between mb-4">
                                    <div class="flex items-center">
                                        <div class="w-4 h-4 flex items-center justify-center text-gray-400 mr-2">
                                            <i class="ri-money-dollar-circle-line"></i>
                                        </div>
                                        <p class="text-sm font-medium text-gray-900">Auto-withdraw Threshold</p>
                                    </div>
                                    <label class="custom-switch">
                                        <input type="checkbox">
                                        <span class="switch-slider"></span>
                                    </label>
                                </div>
                                <div class="relative">
                                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                        <span class="text-gray-500 text-sm">$</span>
                                    </div>
                                    <input type="number" value="500" class="pl-7 pr-4 py-2 w-full text-sm border border-gray-200 rounded-lg" placeholder="Enter amount">
                                </div>
                                <p class="text-xs text-gray-500 mt-2">Funds will be automatically withdrawn when your balance exceeds this amount</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Downtown Health Partners Wallet Modal -->
        <div id="downtownWalletModal" class="hidden fixed inset-0 bg-gray-500 bg-opacity-50 flex items-center justify-center z-50">
            <div class="bg-white rounded-lg w-[480px] max-h-[90vh] overflow-y-auto">
                <div class="p-6">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-lg font-semibold text-gray-900">Downtown Health Partners - Wallet Settings</h2>
                        <button id="closeDowntownWalletModal" class="text-gray-400 hover:text-gray-600">
                            <i class="ri-close-line text-xl"></i>
                        </button>
                    </div>
                    
                    <!-- Practice Mode Info -->
                    <div class="mb-6 p-4 bg-blue-50 rounded-lg">
                        <div class="flex items-start">
                            <div class="w-5 h-5 flex-shrink-0 text-blue-500 mt-0.5">
                                <i class="ri-information-line"></i>
                            </div>
                            <div class="ml-3">
                                <h3 class="text-sm font-medium text-blue-900">Practice Mode: Personal</h3>
                                <p class="mt-1 text-sm text-blue-700">This practice operates in personal mode, where each provider manages their own wallet for transactions. All earnings and expenses will be processed through your personal wallet for this practice.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Wallet Balance -->
                    <div class="bg-gray-50 rounded-lg p-6 mb-6">
                        <h3 class="text-sm font-medium text-gray-700 mb-2">Downtown Health Partners Wallet</h3>
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-2xl font-semibold text-gray-900">$325.00</p>
                                <p class="text-sm text-gray-500 mt-1">Available Balance</p>
                            </div>
                            <div class="flex space-x-3">
                                <button class="px-4 py-2 text-sm text-primary border border-primary/20 bg-primary/5 rounded-button flex items-center whitespace-nowrap hover:bg-primary/10">
                                    <i class="ri-add-line mr-2"></i>
                                    Top Up
                                </button>
                                <button class="px-4 py-2 text-sm text-gray-700 border border-gray-200 rounded-button flex items-center whitespace-nowrap hover:bg-gray-50">
                                    <i class="ri-bank-card-line mr-2"></i>
                                    Withdraw
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Payment Methods -->
                    <div class="mb-6">
                        <h3 class="text-sm font-medium text-gray-900 mb-4">Payment Methods</h3>
                        <p class="text-xs text-gray-500 mb-4">Drag and drop to set payment priority</p>
                        <div class="space-y-3">
                            <div class="flex items-center justify-between p-3 border border-gray-200 rounded-lg bg-white cursor-move hover:border-primary/20 transition-colors" draggable="true">
                                <div class="flex items-center">
                                    <div class="w-8 h-8 flex items-center justify-center text-gray-400 cursor-move">
                                        <i class="ri-drag-move-line"></i>
                                    </div>
                                    <div class="w-8 h-8 flex items-center justify-center text-[#1A1F71]">
                                        <i class="ri-bank-fill text-xl"></i>
                                    </div>
                                    <div class="ml-3">
                                        <p class="text-sm font-medium text-gray-900">Bank of America Account</p>
                                        <p class="text-xs text-gray-500">****9876</p>
                                    </div>
                                </div>
                                <button class="text-sm text-gray-500 hover:text-primary">Remove</button>
                            </div>
                            <div class="flex items-center justify-between p-3 border border-gray-200 rounded-lg bg-white cursor-move hover:border-primary/20 transition-colors" draggable="true">
                                <div class="flex items-center">
                                    <div class="w-8 h-8 flex items-center justify-center text-gray-400 cursor-move">
                                        <i class="ri-drag-move-line"></i>
                                    </div>
                                    <div class="w-8 h-8 flex items-center justify-center text-primary">
                                        <i class="ri-wallet-3-fill text-xl"></i>
                                    </div>
                                    <div class="ml-3">
                                        <p class="text-sm font-medium text-gray-900">Wallet Credit</p>
                                        <p class="text-xs text-gray-500">Balance: $325.00</p>
                                    </div>
                                </div>
                                <button class="text-sm text-gray-500 hover:text-primary">Remove</button>
                            </div>
                        </div>
                        <button class="w-full mt-3 px-4 py-2 text-sm text-primary border border-primary/20 bg-primary/5 rounded-button flex items-center justify-center whitespace-nowrap hover:bg-primary/10">
                            <i class="ri-add-line mr-2"></i>
                            Add Payment Method
                        </button>
                    </div>

                    <!-- Auto-withdraw Settings -->
                    <div class="mb-6">
                        <h3 class="text-sm font-medium text-gray-900 mb-4">Withdraw Settings</h3>
                        <div class="space-y-4">
                            <div class="p-4 border border-gray-200 rounded-lg">
                                <div class="flex items-center justify-between mb-4">
                                    <div class="flex items-center">
                                        <div class="w-4 h-4 flex items-center justify-center text-gray-400 mr-2">
                                            <i class="ri-bank-line"></i>
                                        </div>
                                        <p class="text-sm font-medium text-gray-900">Withdraw Account</p>
                                    </div>
                                    <button class="text-sm text-primary hover:text-primary/80">Change</button>
                                </div>
                                <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                    <div class="flex items-center">
                                        <div class="w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center mr-3">
                                            <i class="ri-bank-line text-primary"></i>
                                        </div>
                                        <div>
                                            <p class="text-sm font-medium text-gray-900">Bank of America Account</p>
                                            <p class="text-xs text-gray-500">****9876</p>
                                        </div>
                                    </div>
                                    <div class="w-4 h-4 flex items-center justify-center text-green-500">
                                        <i class="ri-checkbox-circle-fill"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="p-4 border border-gray-200 rounded-lg">
                                <div class="flex items-center justify-between mb-4">
                                    <div class="flex items-center">
                                        <div class="w-4 h-4 flex items-center justify-center text-gray-400 mr-2">
                                            <i class="ri-money-dollar-circle-line"></i>
                                        </div>
                                        <p class="text-sm font-medium text-gray-900">Auto-withdraw Threshold</p>
                                    </div>
                                    <label class="custom-switch">
                                        <input type="checkbox" checked>
                                        <span class="switch-slider"></span>
                                    </label>
                                </div>
                                <div class="relative">
                                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                        <span class="text-gray-500 text-sm">$</span>
                                    </div>
                                    <input type="number" value="1200" class="pl-7 pr-4 py-2 w-full text-sm border border-gray-200 rounded-lg" placeholder="Enter amount">
                                </div>
                                <p class="text-xs text-gray-500 mt-2">Funds will be automatically withdrawn when your balance exceeds this amount</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

<div class="border-t border-gray-100 mt-2">
<a href="#" class="flex items-center px-7 py-2 text-sm text-red-600 hover:bg-gray-50">
<div class="w-4 h-4 flex items-center justify-center mr-3">
<i class="ri-logout-box-line"></i>
</div>
Sign Out
</a>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- Main Content Container -->
<div class="flex flex-1 h-full overflow-hidden">
<!-- Left Sidebar - Navigation -->
<div class="w-64 bg-white border-r border-gray-200 flex flex-col h-full">
<!-- Workbench Navigation -->
<div class="flex-1 overflow-y-auto p-2">
<div class="workbench-nav-item active flex items-center p-3 rounded-lg text-primary mb-1 pl-2">
<div class="w-5 h-5 flex items-center justify-center mr-3">
<i class="ri-bill-line"></i>
</div>
<span class="text-sm font-medium">eZ-bill</span>
</div>
<div class="workbench-nav-item flex items-center p-3 rounded-lg text-gray-700 hover:bg-gray-50 mb-1" id="templatesNav">
<div class="w-5 h-5 flex items-center justify-center mr-3 text-gray-500">
<i class="ri-file-list-3-line"></i>
</div>
<span class="text-sm font-medium">Document Template</span>
</div>
<div class="workbench-nav-item flex items-center p-3 rounded-lg text-gray-700 hover:bg-gray-50 mb-1" id="workflowNav">
<div class="w-5 h-5 flex items-center justify-center mr-3 text-gray-500">
<i class="ri-flow-chart"></i>
</div>
<span class="text-sm font-medium">Workflow</span>
</div>
<div class="workbench-nav-item flex items-center p-3 rounded-lg text-gray-700 hover:bg-gray-50 mb-1" id="reportNav">
<div class="w-5 h-5 flex items-center justify-center mr-3 text-gray-500">
<i class="ri-file-chart-line"></i>
</div>
<span class="text-sm font-medium">Report Format</span>
</div>
<div class="workbench-nav-item flex items-center p-3 rounded-lg text-gray-700 hover:bg-gray-50 mb-1" id="archiveNav">
<div class="w-5 h-5 flex items-center justify-center mr-3 text-gray-500">
<i class="ri-archive-line"></i>
</div>
<span class="text-sm font-medium">Archive</span>
</div>
</div>
<!-- Help & Support -->
<div class="p-4 border-t border-gray-200">
<div class="p-3 bg-primary/5 rounded-lg">
<div class="flex items-center mb-2">
<div class="w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center mr-3">
<div class="w-4 h-4 flex items-center justify-center text-primary">
<i class="ri-question-line"></i>
</div>
</div>
<h3 class="text-sm font-medium text-gray-900">Need Help?</h3>
</div>
<p class="text-xs text-gray-600 mb-3">Access support resources or contact our team for assistance.</p>
<button class="w-full py-2 px-3 bg-white border border-gray-200 text-primary rounded-button text-sm font-medium flex items-center justify-center hover:bg-gray-50 whitespace-nowrap">
<div class="w-4 h-4 flex items-center justify-center mr-1">
<i class="ri-customer-service-2-line"></i>
</div>
Get Support
</button>
</div>
</div>
</div>
<!-- Main Content Area - Dashboard -->
<div class="flex-1 overflow-y-auto">
<!-- Dashboard Header -->
<div id="contentHeader" class="p-6 bg-white border-b border-gray-200">
<div class="flex justify-between items-center">
<div id="ezBillHeader">
<h1 class="text-2xl font-semibold text-gray-900">eZ-Bill Products</h1>
<p class="text-gray-600 mt-1">Manage your billing products and fees</p>
</div>
<div id="templatesHeader" class="hidden">
<h1 class="text-2xl font-semibold text-gray-900">Document Templates</h1>
<p class="text-gray-600 mt-1">Manage your document templates and clinical workflows</p>
</div>
<div id="workflowHeader" class="hidden">
<h1 class="text-2xl font-semibold text-gray-900">Workflows</h1>
<p class="text-gray-600 mt-1">Design and manage your clinical process workflows</p>
</div>
<div id="reportHeader" class="hidden">
<h1 class="text-2xl font-semibold text-gray-900">Report Formats</h1>
<p class="text-gray-600 mt-1">Customize and manage your clinical report templates</p>
</div>
<div id="archiveHeader" class="hidden">
<h1 class="text-2xl font-semibold text-gray-900">Archive</h1>
<p class="text-gray-600 mt-1">Access and manage your archived items</p>
</div>
</div>
</div>
<!-- Main Content -->
<div class="p-6">
<div id="workflowContent" class="grid grid-cols-1 gap-6 hidden">
<div class="bg-white rounded-lg border border-gray-200 overflow-hidden">
<div class="p-6">
<div class="flex items-center justify-between mb-6">
<div>
<h2 class="text-lg font-semibold text-gray-900">Active Workflows</h2>
<p class="text-sm text-gray-600 mt-1">Patient workflows and practice-wide automation currently running</p>
</div>
<div class="flex space-x-3">
<button id="createPatientWorkflowBtn" class="px-4 py-2 text-blue-600 border border-blue-200 bg-blue-50 rounded-button flex items-center whitespace-nowrap hover:bg-blue-100 transition-colors">
<div class="w-4 h-4 flex items-center justify-center mr-2">
<i class="ri-add-line"></i>
</div>
Create Workflow
</button>
<button id="createPracticeWorkflowBtn" class="hidden px-4 py-2 text-green-600 border border-green-200 bg-green-50 rounded-button flex items-center whitespace-nowrap hover:bg-green-100 transition-colors">
<div class="w-4 h-4 flex items-center justify-center mr-2">
<i class="ri-building-line"></i>
</div>
Create Practice Workflow
</button>
</div>
</div>
<div class="grid grid-cols-1 gap-4">
<div class="border border-gray-200 rounded-lg p-4">
<div class="flex items-center justify-between">
<div class="flex items-center">
<div class="w-10 h-10 bg-primary/5 rounded-lg flex items-center justify-center mr-4">
<div class="w-5 h-5 flex items-center justify-center text-primary">
<i class="ri-flow-chart"></i>
</div>
</div>
<div>
<h3 class="text-sm font-medium text-gray-900">Patient Onboarding</h3>
<p class="text-xs text-gray-500 mt-1">5 steps  3 active patients</p>
</div>
</div>
<button class="text-gray-400 hover:text-gray-600">
<div class="w-4 h-4 flex items-center justify-center">
<i class="ri-more-2-fill"></i>
</div>
</button>
</div>
</div>
<div class="border border-gray-200 rounded-lg p-4">
<div class="flex items-center justify-between">
<div class="flex items-center">
<div class="w-10 h-10 bg-primary/5 rounded-lg flex items-center justify-center mr-4">
<div class="w-5 h-5 flex items-center justify-center text-primary">
<i class="ri-flow-chart"></i>
</div>
</div>
<div>
<h3 class="text-sm font-medium text-gray-900">Chronic Care Management</h3>
<p class="text-xs text-gray-500 mt-1">8 steps  12 active patients</p>
</div>
</div>
<button class="text-gray-400 hover:text-gray-600">
<div class="w-4 h-4 flex items-center justify-center">
<i class="ri-more-2-fill"></i>
</div>
</button>
</div>
</div>
</div>
</div>
</div>
<div class="bg-white rounded-lg border border-gray-200 overflow-hidden">
<div class="p-6">
<div class="flex items-center justify-between mb-6">
<div>
<h2 class="text-lg font-semibold text-gray-900">Popular Workflows</h2>
<p class="text-sm text-gray-600 mt-1">Reusable workflow templates</p>
</div>
</div>
<div id="workflowTemplatesGrid" class="grid grid-cols-3 gap-4 auto-rows-auto">
<!-- Templates will be loaded dynamically -->
</div>
</div>
</div>
</div>
<div id="reportContent" class="grid grid-cols-1 gap-6 hidden">
<div class="bg-white rounded-lg border border-gray-200 overflow-hidden">
<div class="p-6">
<div class="flex items-center justify-between mb-6">
<div>
<h2 class="text-lg font-semibold text-gray-900">Column Order Settings</h2>
<p class="text-sm text-gray-600 mt-1">Customize the order of report columns</p>
</div>
<button class="px-4 py-2 text-primary border border-primary/20 bg-primary/5 rounded-button flex items-center whitespace-nowrap" id="openColumnOrder">
<div class="w-4 h-4 flex items-center justify-center mr-2">
<i class="ri-settings-line"></i>
</div>
Configure Order
</button>
</div>
<div id="columnOrderModal" class="fixed inset-0 bg-gray-500 bg-opacity-50 hidden flex items-center justify-center z-50">
<div class="bg-white rounded-lg w-[600px]">
<div class="p-6 border-b border-gray-200">
<div class="flex items-center justify-between">
<h3 class="text-lg font-semibold text-gray-900">Personalized Report Columns Order</h3>
<button id="closeColumnOrder" class="text-gray-400 hover:text-gray-600">
<div class="w-5 h-5 flex items-center justify-center">
<i class="ri-close-line"></i>
</div>
</button>
</div>
</div>
<div class="p-6">
<p class="text-sm text-gray-600 mb-6">For the Personalized Report, you can customize the ordering between these four columns "Current" (current result), "Previous" (previous result), "Result Bar", and "Reference Range", to suit your reading preferences.</p>
<div class="space-y-3" id="columnList">
<div class="flex items-center p-3 bg-white border border-gray-200 rounded-lg cursor-move" draggable="true" data-column="current">
<div class="w-4 h-4 flex items-center justify-center mr-3 text-gray-400">
<i class="ri-drag-move-line"></i>
</div>
<span class="text-sm text-gray-900">Current</span>
</div>
<div class="flex items-center p-3 bg-white border border-gray-200 rounded-lg cursor-move" draggable="true" data-column="previous">
<div class="w-4 h-4 flex items-center justify-center mr-3 text-gray-400">
<i class="ri-drag-move-line"></i>
</div>
<span class="text-sm text-gray-900">Previous</span>
</div>
<div class="flex items-center p-3 bg-white border border-gray-200 rounded-lg cursor-move" draggable="true" data-column="result">
<div class="w-4 h-4 flex items-center justify-center mr-3 text-gray-400">
<i class="ri-drag-move-line"></i>
</div>
<span class="text-sm text-gray-900">Result</span>
</div>
<div class="flex items-center p-3 bg-white border border-gray-200 rounded-lg cursor-move" draggable="true" data-column="reference">
<div class="w-4 h-4 flex items-center justify-center mr-3 text-gray-400">
<i class="ri-drag-move-line"></i>
</div>
<span class="text-sm text-gray-900">Reference</span>
</div>
</div>
</div>
<div class="p-6 border-t border-gray-200 flex items-center justify-end space-x-3">
<button id="cancelColumnOrder" class="px-4 py-2 text-gray-700 border border-gray-200 rounded-button whitespace-nowrap">Cancel</button>
<button id="saveColumnOrder" class="px-4 py-2 bg-primary text-white rounded-button whitespace-nowrap">Save Changes</button>
</div>
</div>
</div>
<div class="bg-white rounded-lg border border-gray-200 overflow-hidden mb-6">
</div>
<div class="space-y-6">
<div class="border border-gray-200 rounded-lg">
<div class="p-4 border-b border-gray-200">
<div class="flex items-center">
<div class="w-10 h-10 bg-primary/5 rounded-lg flex items-center justify-center mr-3">
<div class="w-5 h-5 flex items-center justify-center text-primary">
<i class="ri-file-list-3-line"></i>
</div>
</div>
<div>
<h3 class="text-sm font-medium text-gray-900">Classic Report</h3>
<p class="text-xs text-gray-500 mt-1">Traditional format with essential information</p>
</div>
</div>
</div>
<div class="p-4 space-y-3">
<div class="flex items-center justify-between">
<div class="flex items-center">
<div class="w-8 h-8 bg-gray-50 rounded flex items-center justify-center mr-3">
<div class="w-4 h-4 flex items-center justify-center text-gray-400">
<i class="ri-file-text-line"></i>
</div>
</div>
<span class="text-sm text-gray-700">Summary Version</span>
</div>
<label class="flex items-center cursor-pointer">
<input type="radio" name="classic_version" class="hidden" value="summary">
<div class="w-4 h-4 border border-gray-300 rounded-full flex items-center justify-center">
<div class="w-2 h-2 rounded-full bg-primary hidden"></div>
</div>
</label>
</div>
<div class="flex items-center justify-between">
<div class="flex items-center">
<div class="w-8 h-8 bg-gray-50 rounded flex items-center justify-center mr-3">
<div class="w-4 h-4 flex items-center justify-center text-gray-400">
<i class="ri-file-list-line"></i>
</div>
</div>
<span class="text-sm text-gray-700">Complete Version</span>
</div>
<label class="flex items-center cursor-pointer">
<input type="radio" name="classic_version" class="hidden" value="complete">
<div class="w-4 h-4 border border-gray-300 rounded-full flex items-center justify-center">
<div class="w-2 h-2 rounded-full bg-primary hidden"></div>
</div>
</label>
</div>
<div class="flex items-center justify-between">
<div class="flex items-center">
<div class="w-8 h-8 bg-gray-50 rounded flex items-center justify-center mr-3">
<div class="w-4 h-4 flex items-center justify-center text-gray-400">
<i class="ri-printer-line"></i>
</div>
</div>
<span class="text-sm text-gray-700">Printer-friendly</span>
</div>
<label class="flex items-center cursor-pointer">
<input type="checkbox" class="hidden" name="classic_print">
<div class="w-4 h-4 border border-gray-300 rounded flex items-center justify-center">
<i class="ri-check-line text-white text-xs hidden"></i>
</div>
</label>
</div>
</div>
</div>
<div class="border border-gray-200 rounded-lg">
<div class="p-4 border-b border-gray-200">
<div class="flex items-center">
<div class="w-10 h-10 bg-primary/5 rounded-lg flex items-center justify-center mr-3">
<div class="w-5 h-5 flex items-center justify-center text-primary">
<i class="ri-file-chart-line"></i>
</div>
</div>
<div>
<h3 class="text-sm font-medium text-gray-900">Advanced Report</h3>
<p class="text-xs text-gray-500 mt-1">Enhanced format with detailed analytics</p>
</div>
</div>
</div>
<div class="p-4 space-y-3">
<div class="flex items-center justify-between">
<div class="flex items-center">
<div class="w-8 h-8 bg-gray-50 rounded flex items-center justify-center mr-3">
<div class="w-4 h-4 flex items-center justify-center text-gray-400">
<i class="ri-file-text-line"></i>
</div>
</div>
<span class="text-sm text-gray-700">Summary Version</span>
</div>
<label class="flex items-center cursor-pointer">
<input type="radio" name="advanced_version" class="hidden" value="summary">
<div class="w-4 h-4 border border-gray-300 rounded-full flex items-center justify-center">
<div class="w-2 h-2 rounded-full bg-primary hidden"></div>
</div>
</label>
</div>
<div class="flex items-center justify-between">
<div class="flex items-center">
<div class="w-8 h-8 bg-gray-50 rounded flex items-center justify-center mr-3">
<div class="w-4 h-4 flex items-center justify-center text-gray-400">
<i class="ri-file-list-line"></i>
</div>
</div>
<span class="text-sm text-gray-700">Complete Version</span>
</div>
<label class="flex items-center cursor-pointer">
<input type="radio" name="advanced_version" class="hidden" value="complete">
<div class="w-4 h-4 border border-gray-300 rounded-full flex items-center justify-center">
<div class="w-2 h-2 rounded-full bg-primary hidden"></div>
</div>
</label>
</div>
<div class="flex items-center justify-between">
<div class="flex items-center">
<div class="w-8 h-8 bg-gray-50 rounded flex items-center justify-center mr-3">
<div class="w-4 h-4 flex items-center justify-center text-gray-400">
<i class="ri-printer-line"></i>
</div>
</div>
<span class="text-sm text-gray-700">Printer-friendly</span>
</div>
<label class="flex items-center cursor-pointer">
<input type="checkbox" class="hidden" name="advanced_print">
<div class="w-4 h-4 border border-gray-300 rounded flex items-center justify-center">
<i class="ri-check-line text-white text-xs hidden"></i>
</div>
</label>
</div>
</div>
</div>
<div class="border border-gray-200 rounded-lg">
<div class="p-4 border-b border-gray-200">
<div class="flex items-center">
<div class="w-10 h-10 bg-primary/5 rounded-lg flex items-center justify-center mr-3">
<div class="w-5 h-5 flex items-center justify-center text-primary">
<i class="ri-file-settings-line"></i>
</div>
</div>
<div>
<h3 class="text-sm font-medium text-gray-900">Customized Report</h3>
<p class="text-xs text-gray-500 mt-1">Personalized format based on preferences</p>
</div>
</div>
</div>
<div class="p-4 space-y-3">
<div class="flex items-center justify-between">
<div class="flex items-center">
<div class="w-8 h-8 bg-gray-50 rounded flex items-center justify-center mr-3">
<div class="w-4 h-4 flex items-center justify-center text-gray-400">
<i class="ri-file-text-line"></i>
</div>
</div>
<span class="text-sm text-gray-700">Summary Version</span>
</div>
<label class="flex items-center cursor-pointer">
<input type="radio" name="custom_version" class="hidden" value="summary">
<div class="w-4 h-4 border border-gray-300 rounded-full flex items-center justify-center">
<div class="w-2 h-2 rounded-full bg-primary hidden"></div>
</div>
</label>
</div>
<div class="flex items-center justify-between">
<div class="flex items-center">
<div class="w-8 h-8 bg-gray-50 rounded flex items-center justify-center mr-3">
<div class="w-4 h-4 flex items-center justify-center text-gray-400">
<i class="ri-file-list-line"></i>
</div>
</div>
<span class="text-sm text-gray-700">Complete Version</span>
</div>
<label class="flex items-center cursor-pointer">
<input type="radio" name="custom_version" class="hidden" value="complete">
<div class="w-4 h-4 border border-gray-300 rounded-full flex items-center justify-center">
<div class="w-2 h-2 rounded-full bg-primary hidden"></div>
</div>
</label>
</div>
<div class="flex items-center justify-between">
<div class="flex items-center">
<div class="w-8 h-8 bg-gray-50 rounded flex items-center justify-center mr-3">
<div class="w-4 h-4 flex items-center justify-center text-gray-400">
<i class="ri-printer-line"></i>
</div>
</div>
<span class="text-sm text-gray-700">Printer-friendly</span>
</div>
<label class="flex items-center cursor-pointer">
<input type="checkbox" class="hidden" name="custom_print">
<div class="w-4 h-4 border border-gray-300 rounded flex items-center justify-center">
<i class="ri-check-line text-white text-xs hidden"></i>
</div>
</label>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="archiveContent" class="grid grid-cols-1 gap-6 hidden">
<div class="bg-white rounded-lg border border-gray-200 overflow-hidden">
<div class="p-6">
<div class="flex items-center justify-end mb-6">
<div class="flex items-center space-x-3">
<div class="relative">
<input type="text" placeholder="Search archives..." class="pl-9 pr-4 py-2 text-sm border border-gray-200 rounded-lg w-64">
<div class="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 flex items-center justify-center text-gray-400">
<i class="ri-search-line"></i>
</div>
</div>
<button class="px-4 py-2 text-gray-700 border border-gray-200 rounded-button flex items-center whitespace-nowrap">
<div class="w-4 h-4 flex items-center justify-center mr-2">
<i class="ri-filter-3-line"></i>
</div>
Filter
</button>
</div>
</div>
<div class="space-y-6">
<!-- eZ-bill Items -->
<div class="border border-gray-200 rounded-lg overflow-hidden">
<div class="bg-gray-50 px-6 py-4 border-b border-gray-200">
<h3 class="text-sm font-medium text-gray-900">eZ-bill Items</h3>
</div>
<table class="w-full">
<thead class="bg-gray-50 border-b border-gray-200">
<tr>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Item Name</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Type</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Date Archived</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Amount</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Actions</th>
</tr>
</thead>
<tbody class="divide-y divide-gray-200">
<tr class="hover:bg-gray-50">
<td class="px-6 py-4 text-sm text-gray-900">Executive Health Program</td>
<td class="px-6 py-4 text-sm text-gray-600">Signature Program</td>
<td class="px-6 py-4 text-sm text-gray-600">Jul 15, 2024</td>
<td class="px-6 py-4 text-sm text-gray-600">$2,499.00</td>
<td class="px-6 py-4 text-sm">
<button class="text-gray-400 hover:text-gray-600">
<div class="w-4 h-4 flex items-center justify-center">
<i class="ri-refresh-line"></i>
</div>
</button>
</td>
</tr>
<tr class="hover:bg-gray-50">
<td class="px-6 py-4 text-sm text-gray-900">Annual Health Check</td>
<td class="px-6 py-4 text-sm text-gray-600">Practice Product</td>
<td class="px-6 py-4 text-sm text-gray-600">Jul 10, 2024</td>
<td class="px-6 py-4 text-sm text-gray-600">$250.00</td>
<td class="px-6 py-4 text-sm">
<button class="text-gray-400 hover:text-gray-600">
<div class="w-4 h-4 flex items-center justify-center">
<i class="ri-refresh-line"></i>
</div>
</button>
</td>
</tr>
</tbody>
</table>
</div>
<!-- Templates -->
<div class="border border-gray-200 rounded-lg overflow-hidden">
<div class="bg-gray-50 px-6 py-4 border-b border-gray-200">
<h3 class="text-sm font-medium text-gray-900">Templates</h3>
</div>
<table class="w-full">
<thead class="bg-gray-50 border-b border-gray-200">
<tr>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Template Name</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Category</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Date Archived</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Version</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Actions</th>
</tr>
</thead>
<tbody class="divide-y divide-gray-200">
<tr class="hover:bg-gray-50">
<td class="px-6 py-4 text-sm text-gray-900">Patient Intake Form</td>
<td class="px-6 py-4 text-sm text-gray-600">Patient Forms</td>
<td class="px-6 py-4 text-sm text-gray-600">Jul 14, 2024</td>
<td class="px-6 py-4 text-sm text-gray-600">v2.1</td>
<td class="px-6 py-4 text-sm">
<button class="text-gray-400 hover:text-gray-600">
<div class="w-4 h-4 flex items-center justify-center">
<i class="ri-refresh-line"></i>
</div>
</button>
</td>
</tr>
<tr class="hover:bg-gray-50">
<td class="px-6 py-4 text-sm text-gray-900">Medical History Form</td>
<td class="px-6 py-4 text-sm text-gray-600">Medical Records</td>
<td class="px-6 py-4 text-sm text-gray-600">Jul 12, 2024</td>
<td class="px-6 py-4 text-sm text-gray-600">v1.3</td>
<td class="px-6 py-4 text-sm">
<button class="text-gray-400 hover:text-gray-600">
<div class="w-4 h-4 flex items-center justify-center">
<i class="ri-refresh-line"></i>
</div>
</button>
</td>
</tr>
</tbody>
</table>
</div>
<!-- Files -->
<div class="border border-gray-200 rounded-lg overflow-hidden">
<div class="bg-gray-50 px-6 py-4 border-b border-gray-200">
<h3 class="text-sm font-medium text-gray-900">Files</h3>
</div>
<table class="w-full">
<thead class="bg-gray-50 border-b border-gray-200">
<tr>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">File Name</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Type</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Date Archived</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Size</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Actions</th>
</tr>
</thead>
<tbody class="divide-y divide-gray-200">
<tr class="hover:bg-gray-50">
<td class="px-6 py-4 text-sm text-gray-900">Annual Report 2024</td>
<td class="px-6 py-4 text-sm text-gray-600">PDF Document</td>
<td class="px-6 py-4 text-sm text-gray-600">Jul 15, 2024</td>
<td class="px-6 py-4 text-sm text-gray-600">2.4 MB</td>
<td class="px-6 py-4 text-sm">
<button class="text-gray-400 hover:text-gray-600">
<div class="w-4 h-4 flex items-center justify-center">
<i class="ri-refresh-line"></i>
</div>
</button>
</td>
</tr>
<tr class="hover:bg-gray-50">
<td class="px-6 py-4 text-sm text-gray-900">Clinical Guidelines</td>
<td class="px-6 py-4 text-sm text-gray-600">Word Document</td>
<td class="px-6 py-4 text-sm text-gray-600">Jul 13, 2024</td>
<td class="px-6 py-4 text-sm text-gray-600">856 KB</td>
<td class="px-6 py-4 text-sm">
<button class="text-gray-400 hover:text-gray-600">
<div class="w-4 h-4 flex items-center justify-center">
<i class="ri-refresh-line"></i>
</div>
</button>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div id="communityContent" class="grid grid-cols-1 gap-6 hidden">
<div class="p-6">
<div class="flex items-center justify-between mb-6">
<div>
<h2 class="text-lg font-semibold text-gray-900">Featured Templates</h2>
<p class="text-sm text-gray-600 mt-1">Most popular templates from the community</p>
</div>
<div class="flex items-center space-x-2">
<div class="relative">
<input type="text" placeholder="Search templates..." class="pl-9 pr-4 py-2 text-sm border border-gray-200 rounded-lg w-64">
<div class="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 flex items-center justify-center text-gray-400">
<i class="ri-search-line"></i>
</div>
</div>
<button class="px-4 py-2 text-gray-700 border border-gray-200 rounded-button flex items-center whitespace-nowrap hover:bg-gray-50">
<div class="w-4 h-4 flex items-center justify-center mr-2">
<i class="ri-filter-3-line"></i>
</div>
Filter
</button>
</div>
</div>
<div class="grid grid-cols-3 gap-4">
<!-- Template Card 1 -->
<div class="border border-gray-200 rounded-lg p-4 hover:border-primary/20 transition-colors">
<div class="flex items-start justify-between mb-4">
<div class="w-10 h-10 bg-primary/5 rounded-lg flex items-center justify-center">
<div class="w-5 h-5 flex items-center justify-center text-primary">
<i class="ri-file-text-line"></i>
</div>
</div>
<div class="flex items-center space-x-2">
<span class="text-xs text-gray-500">4.9</span>
<div class="flex items-center">
<i class="ri-star-fill text-yellow-400 text-xs"></i>
</div>
<span class="text-xs text-gray-500">(2.1k)</span>
</div>
</div>
<h3 class="text-sm font-medium text-gray-900 mb-1">Comprehensive Health Assessment</h3>
<p class="text-xs text-gray-500 mb-3">Complete patient health evaluation form</p>
<div class="flex items-center justify-between">
<div class="flex items-center text-xs text-gray-500">
<img src="https://readdy.ai/api/search-image?query=professional%20headshot%20of%20a%20male%20doctor%20with%20glasses%2C%20wearing%20a%20white%20coat%2C%20natural%20lighting%2C%20high%20quality%20studio%20portrait&width=24&height=24&seq=2&orientation=squarish" class="w-4 h-4 rounded-full mr-1">
<span>Dr. Michael Chen</span>
</div>
<button class="text-xs text-primary font-medium">Use Template</button>
</div>
</div>
<!-- Template Card 2 -->
<div class="border border-gray-200 rounded-lg p-4 hover:border-primary/20 transition-colors">
<div class="flex items-start justify-between mb-4">
<div class="w-10 h-10 bg-primary/5 rounded-lg flex items-center justify-center">
<div class="w-5 h-5 flex items-center justify-center text-primary">
<i class="ri-file-text-line"></i>
</div>
</div>
<div class="flex items-center space-x-2">
<span class="text-xs text-gray-500">4.8</span>
<div class="flex items-center">
<i class="ri-star-fill text-yellow-400 text-xs"></i>
</div>
<span class="text-xs text-gray-500">(1.8k)</span>
</div>
</div>
<h3 class="text-sm font-medium text-gray-900 mb-1">Mental Health Screening</h3>
<p class="text-xs text-gray-500 mb-3">Standardized mental health assessment</p>
<div class="flex items-center justify-between">
<div class="flex items-center text-xs text-gray-500">
<img src="https://readdy.ai/api/search-image?query=professional%20headshot%20of%20a%20female%20doctor%20with%20brown%20hair%2C%20wearing%20a%20white%20coat%2C%20natural%20lighting%2C%20high%20quality%20studio%20portrait&width=24&height=24&seq=3&orientation=squarish" class="w-4 h-4 rounded-full mr-1">
<span>Dr. Emily Rodriguez</span>
</div>
<button class="text-xs text-primary font-medium">Use Template</button>
</div>
</div>
<!-- Template Card 3 -->
<div class="border border-gray-200 rounded-lg p-4 hover:border-primary/20 transition-colors">
<div class="flex items-start justify-between mb-4">
<div class="w-10 h-10 bg-primary/5 rounded-lg flex items-center justify-center">
<div class="w-5 h-5 flex items-center justify-center text-primary">
<i class="ri-file-text-line"></i>
</div>
</div>
<div class="flex items-center space-x-2">
<span class="text-xs text-gray-500">4.7</span>
<div class="flex items-center">
<i class="ri-star-fill text-yellow-400 text-xs"></i>
</div>
<span class="text-xs text-gray-500">(1.5k)</span>
</div>
</div>
<h3 class="text-sm font-medium text-gray-900 mb-1">Pediatric Growth Chart</h3>
<p class="text-xs text-gray-500 mb-3">Child development tracking template</p>
<div class="flex items-center justify-between">
<div class="flex items-center text-xs text-gray-500">
<img src="https://readdy.ai/api/search-image?query=professional%20headshot%20of%20a%20female%20pediatrician%20with%20blonde%20hair%2C%20wearing%20a%20white%20coat%2C%20natural%20lighting%2C%20high%20quality%20studio%20portrait&width=24&height=24&seq=4&orientation=squarish" class="w-4 h-4 rounded-full mr-1">
<span>Dr. Sarah Thompson</span>
</div>
<button class="text-xs text-primary font-medium">Use Template</button>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="ezBillContent" class="grid grid-cols-1 gap-6">
<!-- Signature Program Section -->
<div class="bg-white rounded-lg border border-gray-200 overflow-hidden">
<div class="p-6">
<div class="flex items-center justify-between mb-6">
<div>
<h2 class="text-lg font-semibold text-gray-900">Signature Program</h2>
<p class="text-sm text-gray-600 mt-1">Premium healthcare packages</p>
</div>
<button id="addProgramBtn" class="px-4 py-2 text-primary border border-primary/20 bg-primary/5 rounded-button flex items-center whitespace-nowrap">
<div class="w-4 h-4 flex items-center justify-center mr-2">
<i class="ri-add-line"></i>
</div>
Add Program
</button>
<div id="addProgramModal" class="fixed inset-0 bg-gray-500 bg-opacity-50 hidden flex items-center justify-center z-50">
<div class="bg-white rounded-lg w-[600px] max-h-[90vh] flex flex-col">
<div class="p-6 border-b border-gray-200">
<div class="flex items-center justify-between">
<h3 class="text-lg font-semibold text-gray-900">Create New Signature Program</h3>
<button id="closeProgramModal" class="text-gray-400 hover:text-gray-600">
<div class="w-5 h-5 flex items-center justify-center">
<i class="ri-close-line"></i>
</div>
</button>
</div>
</div>
<div class="p-6 flex-1 overflow-y-auto">
<form id="programForm" class="space-y-6">
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">Program Name</label>
<input type="text" id="programName" class="w-full px-3 py-2 border border-gray-200 rounded-lg text-sm" placeholder="Enter program name" required>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">Description</label>
<textarea id="programDescription" class="w-full px-3 py-2 border border-gray-200 rounded-lg text-sm" rows="3" placeholder="Enter program description" required></textarea>
</div>
<div class="space-y-4">
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">Program Type</label>
<div class="flex gap-4">
<label class="flex items-center">
<input type="radio" name="programType" value="seasonal" class="hidden" checked>
<div class="w-4 h-4 border border-gray-300 rounded-full mr-2 flex items-center justify-center program-radio">
<div class="w-2 h-2 rounded-full bg-primary hidden"></div>
</div>
<span class="text-sm text-gray-700">Seasonal</span>
</label>
<label class="flex items-center">
<input type="radio" name="programType" value="rolling" class="hidden">
<div class="w-4 h-4 border border-gray-300 rounded-full mr-2 flex items-center justify-center program-radio">
<div class="w-2 h-2 rounded-full bg-primary hidden"></div>
</div>
<span class="text-sm text-gray-700">Rolling</span>
</label>
</div>
</div>
<div id="seasonalDates" class="grid grid-cols-2 gap-4">
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">Start Date</label>
<input type="date" id="startDate" class="w-full px-3 py-2 border border-gray-200 rounded-lg text-sm" required>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">End Date</label>
<input type="date" id="endDate" class="w-full px-3 py-2 border border-gray-200 rounded-lg text-sm" required>
</div>
</div>
<div id="rollingDuration" class="hidden">
<label class="block text-sm font-medium text-gray-700 mb-2">Duration (days)</label>
<input type="number" id="duration" class="w-full px-3 py-2 border border-gray-200 rounded-lg text-sm" min="1" placeholder="Enter program duration in days">
</div>
</div>
<div class="grid grid-cols-2 gap-4">
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">Price ($)</label>
<input type="number" id="programPrice" min="0" step="0.01" class="w-full px-3 py-2 border border-gray-200 rounded-lg text-sm" required>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">Capacity</label>
<div class="flex items-center gap-2">
<label class="flex items-center">
<input type="checkbox" id="hasCapacity" class="hidden">
<div class="w-4 h-4 border border-gray-300 rounded mr-2 flex items-center justify-center capacity-checkbox">
<i class="ri-check-line text-white text-xs hidden"></i>
</div>
<span class="text-sm text-gray-700">Limit capacity</span>
</label>
<input type="number" id="capacityLimit" class="flex-1 px-3 py-2 border border-gray-200 rounded-lg text-sm opacity-50" min="1" placeholder="Max patients" disabled>
</div>
</div>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">Included Services</label>
<div id="servicesList" class="space-y-3">
<div class="flex items-center gap-2">
<div class="relative flex-1">
<button type="button" class="service-selector w-full px-3 py-2 border border-gray-200 rounded-lg text-sm text-left flex items-center justify-between">
<span class="text-gray-400">Select a service</span>
<i class="ri-arrow-down-s-line text-gray-400"></i>
</button>
<div class="service-dropdown hidden absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-10">
<div class="p-2">
<div class="text-xs font-medium text-gray-500 mb-2">Vibrant Products</div>
<div class="space-y-1 mb-3">
<button type="button" class="w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded text-left">Complete Blood Count ($40.25)</button>
<button type="button" class="w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded text-left">Lipid Panel ($51.75)</button>
</div>
<div class="text-xs font-medium text-gray-500 mb-2">Practice Products</div>
<div class="space-y-1 mb-3">
<button type="button" class="w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded text-left">Annual Health Check ($250.00)</button>
<button type="button" class="w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded text-left">Wellness Package ($499.00)</button>
</div>
<div class="text-xs font-medium text-gray-500 mb-2">Workflows</div>
<div class="space-y-1">
<button type="button" class="w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded text-left">New Patient Onboarding</button>
<button type="button" class="w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded text-left">Annual Check-up Protocol</button>
</div>
</div>
</div>
</div>
<button type="button" class="remove-service text-gray-400 hover:text-gray-600 hidden">
<div class="w-5 h-5 flex items-center justify-center">
<i class="ri-delete-bin-line"></i>
</div>
</button>
</div>
</div>
<button type="button" id="addServiceBtn" class="mt-2 text-sm text-primary font-medium flex items-center">
<div class="w-4 h-4 flex items-center justify-center mr-1">
<i class="ri-add-line"></i>
</div>
Add Service
</button>
</div>
</form>
</div>
<div class="p-6 border-t border-gray-200 flex items-center justify-end space-x-3">
<button id="cancelProgram" class="px-4 py-2 text-gray-700 border border-gray-200 rounded-button whitespace-nowrap">Cancel</button>
<button type="submit" form="programForm" class="px-4 py-2 bg-primary text-white rounded-button whitespace-nowrap">Save Program</button>
</div>
</div>
</div>
</div>
<div class="border border-gray-200 rounded-lg overflow-hidden">
<table class="w-full">
<thead class="bg-gray-50">
<tr>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Program Name</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Duration</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Price</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Actions</th>
</tr>
</thead>
<tbody class="divide-y divide-gray-200">
<tr class="hover:bg-gray-50">
<td class="px-6 py-4 text-sm text-gray-900">Executive Health Program</td>
<td class="px-6 py-4 text-sm text-gray-600">12 months</td>
<td class="px-6 py-4 text-sm text-gray-900">$2,499.00</td>
<td class="px-6 py-4 text-sm">
<button class="text-gray-400 hover:text-gray-600">
<div class="w-4 h-4 flex items-center justify-center">
<i class="ri-more-2-fill"></i>
</div>
</button>
</td>
</tr>
<tr class="hover:bg-gray-50">
<td class="px-6 py-4 text-sm text-gray-900">Weight Management Plus</td>
<td class="px-6 py-4 text-sm text-gray-600">6 months</td>
<td class="px-6 py-4 text-sm text-gray-900">$1,299.00</td>
<td class="px-6 py-4 text-sm">
<button class="text-gray-400 hover:text-gray-600">
<div class="w-4 h-4 flex items-center justify-center">
<i class="ri-more-2-fill"></i>
</div>
</button>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<!-- Subscription Section -->
<div class="bg-white rounded-lg border border-gray-200 overflow-hidden mb-6">
<div class="p-6">
<div class="flex items-center justify-between mb-6">
<div>
<h2 class="text-lg font-semibold text-gray-900">Subscription Plans</h2>
<p class="text-sm text-gray-600 mt-1">Recurring healthcare services</p>
</div>
<button class="px-4 py-2 text-primary border border-primary/20 bg-primary/5 rounded-button flex items-center whitespace-nowrap">
<div class="w-4 h-4 flex items-center justify-center mr-2">
<i class="ri-add-line"></i>
</div>
Add Plan
</button>
</div>
<div class="border border-gray-200 rounded-lg overflow-hidden">
<table class="w-full">
<thead class="bg-gray-50">
<tr>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Plan Name</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Billing Cycle</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Price</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Active Subscribers</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Actions</th>
</tr>
</thead>
<tbody class="divide-y divide-gray-200">
<tr class="hover:bg-gray-50">
<td class="px-6 py-4 text-sm text-gray-900">Wellness Plus</td>
<td class="px-6 py-4 text-sm text-gray-600">Monthly</td>
<td class="px-6 py-4 text-sm text-gray-900">$199.00</td>
<td class="px-6 py-4 text-sm text-gray-600">128</td>
<td class="px-6 py-4 text-sm">
<button class="text-gray-400 hover:text-gray-600">
<div class="w-4 h-4 flex items-center justify-center">
<i class="ri-more-2-fill"></i>
</div>
</button>
</td>
</tr>
<tr class="hover:bg-gray-50">
<td class="px-6 py-4 text-sm text-gray-900">Family Care</td>
<td class="px-6 py-4 text-sm text-gray-600">Quarterly</td>
<td class="px-6 py-4 text-sm text-gray-900">$499.00</td>
<td class="px-6 py-4 text-sm text-gray-600">85</td>
<td class="px-6 py-4 text-sm">
<button class="text-gray-400 hover:text-gray-600">
<div class="w-4 h-4 flex items-center justify-center">
<i class="ri-more-2-fill"></i>
</div>
</button>
</td>
</tr>
<tr class="hover:bg-gray-50">
<td class="px-6 py-4 text-sm text-gray-900">Premium Health</td>
<td class="px-6 py-4 text-sm text-gray-600">Annual</td>
<td class="px-6 py-4 text-sm text-gray-900">$1,799.00</td>
<td class="px-6 py-4 text-sm text-gray-600">42</td>
<td class="px-6 py-4 text-sm">
<button class="text-gray-400 hover:text-gray-600">
<div class="w-4 h-4 flex items-center justify-center">
<i class="ri-more-2-fill"></i>
</div>
</button>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<!-- Vibrant Product Section -->
<div class="bg-white rounded-lg border border-gray-200 overflow-hidden">
<div class="p-6">
<div class="flex items-center justify-between mb-6">
<div>
<h2 class="text-lg font-semibold text-gray-900">Vibrant Product</h2>
<p class="text-sm text-gray-600 mt-1">Add markup to listed tests</p>
</div>
<button class="px-4 py-2 text-primary border border-primary/20 bg-primary/5 rounded-button flex items-center whitespace-nowrap">
<div class="w-4 h-4 flex items-center justify-center mr-2">
<i class="ri-edit-line"></i>
</div>
Edit Markup
</button>
</div>
<div class="border border-gray-200 rounded-lg overflow-hidden">
<table class="w-full">
<thead class="bg-gray-50">
<tr>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Test Name</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Base Price</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Markup %</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Final Price</th>
</tr>
</thead>
<tbody class="divide-y divide-gray-200">
<tr class="hover:bg-gray-50">
<td class="px-6 py-4 text-sm text-gray-900">Complete Blood Count</td>
<td class="px-6 py-4 text-sm text-gray-600">$35.00</td>
<td class="px-6 py-4 text-sm text-gray-600">15%</td>
<td class="px-6 py-4 text-sm text-gray-900">$40.25</td>
</tr>
<tr class="hover:bg-gray-50">
<td class="px-6 py-4 text-sm text-gray-900">Lipid Panel</td>
<td class="px-6 py-4 text-sm text-gray-600">$45.00</td>
<td class="px-6 py-4 text-sm text-gray-600">15%</td>
<td class="px-6 py-4 text-sm text-gray-900">$51.75</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<!-- Practice Product Section -->
<div class="bg-white rounded-lg border border-gray-200 overflow-hidden">
<div class="p-6">
<div class="flex items-center justify-between mb-6">
<div>
<h2 class="text-lg font-semibold text-gray-900">Practice Product</h2>
<p class="text-sm text-gray-600 mt-1">Design your own products</p>
</div>
<button class="px-4 py-2 text-primary border border-primary/20 bg-primary/5 rounded-button flex items-center whitespace-nowrap">
<div class="w-4 h-4 flex items-center justify-center mr-2">
<i class="ri-add-line"></i>
</div>
Add Product
</button>
</div>
<div class="border border-gray-200 rounded-lg overflow-hidden">
<table class="w-full">
<thead class="bg-gray-50">
<tr>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Product Name</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Description</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Price</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Actions</th>
</tr>
</thead>
<tbody class="divide-y divide-gray-200">
<tr class="hover:bg-gray-50">
<td class="px-6 py-4 text-sm text-gray-900">Annual Health Check</td>
<td class="px-6 py-4 text-sm text-gray-600">Comprehensive yearly health examination</td>
<td class="px-6 py-4 text-sm text-gray-900">$250.00</td>
<td class="px-6 py-4 text-sm">
<button class="text-gray-400 hover:text-gray-600">
<div class="w-4 h-4 flex items-center justify-center">
<i class="ri-more-2-fill"></i>
</div>
</button>
</td>
</tr>
<tr class="hover:bg-gray-50">
<td class="px-6 py-4 text-sm text-gray-900">Wellness Package</td>
<td class="px-6 py-4 text-sm text-gray-600">3-month wellness program</td>
<td class="px-6 py-4 text-sm text-gray-900">$499.00</td>
<td class="px-6 py-4 text-sm">
<button class="text-gray-400 hover:text-gray-600">
<div class="w-4 h-4 flex items-center justify-center">
<i class="ri-more-2-fill"></i>
</div>
</button>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<!-- Product Bundle Section -->
<div class="bg-white rounded-lg border border-gray-200 overflow-hidden">
<div class="p-6">
<div class="flex items-center justify-between mb-6">
<div>
<h2 class="text-lg font-semibold text-gray-900">Product Bundle</h2>
<p class="text-sm text-gray-600 mt-1">Create and manage product combinations</p>
</div>
<button class="px-4 py-2 text-primary border border-primary/20 bg-primary/5 rounded-button flex items-center whitespace-nowrap">
<div class="w-4 h-4 flex items-center justify-center mr-2">
<i class="ri-add-line"></i>
</div>
Create Bundle
</button>
</div>
<div class="border border-gray-200 rounded-lg overflow-hidden">
<table class="w-full">
<thead class="bg-gray-50">
<tr>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Bundle Name</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Products Included</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Total Value</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Bundle Price</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Actions</th>
</tr>
</thead>
<tbody class="divide-y divide-gray-200">
<tr class="hover:bg-gray-50">
<td class="px-6 py-4 text-sm text-gray-900">Complete Health Bundle</td>
<td class="px-6 py-4 text-sm text-gray-600">Annual Health Check, Blood Test Panel, Nutrition Consultation</td>
<td class="px-6 py-4 text-sm text-gray-600">$750.00</td>
<td class="px-6 py-4 text-sm text-gray-900">$649.00</td>
<td class="px-6 py-4 text-sm">
<button class="text-gray-400 hover:text-gray-600">
<div class="w-4 h-4 flex items-center justify-center">
<i class="ri-more-2-fill"></i>
</div>
</button>
</td>
</tr>
<tr class="hover:bg-gray-50">
<td class="px-6 py-4 text-sm text-gray-900">Family Wellness Package</td>
<td class="px-6 py-4 text-sm text-gray-600">Family Health Check, Immunizations, Dental Care</td>
<td class="px-6 py-4 text-sm text-gray-600">$1,200.00</td>
<td class="px-6 py-4 text-sm text-gray-900">$999.00</td>
<td class="px-6 py-4 text-sm">
<button class="text-gray-400 hover:text-gray-600">
<div class="w-4 h-4 flex items-center justify-center">
<i class="ri-more-2-fill"></i>
</div>
</button>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<!-- Customizable Fee Section -->
<div class="bg-white rounded-lg border border-gray-200 overflow-hidden">
<div class="p-6">
<div class="flex items-center justify-between mb-6">
<div>
<h2 class="text-lg font-semibold text-gray-900">Customizable Fee</h2>
<p class="text-sm text-gray-600 mt-1">Define a customizable fee that can be added to orders</p>
</div>
</div>
<div class="border border-gray-200 rounded-lg p-6">
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">Fee Name</label>
<input type="text" placeholder="e.g., Consultation Fee, Processing Fee" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary/20 focus:border-primary" value="Consultation Fee">
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">Amount</label>
<div class="relative">
<span class="absolute left-4 top-1/2 -translate-y-1/2 text-gray-500">$</span>
<input type="number" placeholder="0.00" step="0.01" class="w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary/20 focus:border-primary" value="75.00">
</div>
</div>
<div class="md:col-span-2">
<label class="block text-sm font-medium text-gray-700 mb-2">Description (Optional)</label>
<textarea placeholder="Brief description of this fee" rows="3" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary/20 focus:border-primary">Initial consultation charge</textarea>
</div>
</div>
<div class="mt-6 flex justify-end">
<button class="px-4 py-2 bg-primary text-white rounded-button hover:bg-primary/90 transition-colors">
Save Customizable Fee
</button>
</div>
</div>
</div>
</div>
</div>
<!-- Templates & Workflows Content -->
<div id="templatesContent" class="grid grid-cols-1 gap-6 hidden">
<!-- Smart Blocks Section -->
<div class="bg-white rounded-lg border border-gray-200 overflow-hidden">
<div class="p-6">
<div class="flex items-center justify-between mb-6">
<div>
<h2 class="text-lg font-semibold text-gray-900">Smart Blocks</h2>
<p class="text-sm text-gray-600 mt-1">AI-powered clinical documentation blocks for faster note creation</p>
</div>
<button class="px-4 py-2 text-purple-600 border border-purple-200 bg-purple-50 rounded-button flex items-center whitespace-nowrap hover:bg-purple-100 transition-colors">
<div class="w-4 h-4 flex items-center justify-center mr-2">
<i class="ri-add-line"></i>
</div>
Create Smart Block
</button>
</div>
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
<div class="smart-block-card border border-gray-200 rounded-lg p-4 hover:border-purple-200 hover:bg-purple-50/30 transition-colors cursor-pointer" data-block-type="chief_complaint">
<div class="flex items-center mb-3">
<div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center mr-3">
<i class="ri-brain-line text-purple-600"></i>
</div>
<div>
<h3 class="text-sm font-medium text-gray-900">Chief Complaint</h3>
<p class="text-xs text-gray-500">AI-assisted chief complaint documentation</p>
</div>
</div>
<p class="text-xs text-gray-600 mb-3">Automatically structures patient's primary concern with relevant context and severity indicators.</p>
<div class="flex items-center justify-between">
<span class="text-xs text-purple-600 bg-purple-100 px-2 py-1 rounded-full">Coming Soon</span>
<button class="text-gray-400 hover:text-gray-600">
<i class="ri-more-2-fill"></i>
</button>
</div>
</div>
<div class="smart-block-card border border-gray-200 rounded-lg p-4 hover:border-purple-200 hover:bg-purple-50/30 transition-colors cursor-pointer" data-block-type="physical_exam">
<div class="flex items-center mb-3">
<div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center mr-3">
<i class="ri-stethoscope-line text-purple-600"></i>
</div>
<div>
<h3 class="text-sm font-medium text-gray-900">Physical Exam</h3>
<p class="text-xs text-gray-500">Structured physical examination templates</p>
</div>
</div>
<p class="text-xs text-gray-600 mb-3">System-specific exam templates with normal/abnormal findings and clinical significance.</p>
<div class="flex items-center justify-between">
<span class="text-xs text-purple-600 bg-purple-100 px-2 py-1 rounded-full">Coming Soon</span>
<button class="text-gray-400 hover:text-gray-600">
<i class="ri-more-2-fill"></i>
</button>
</div>
</div>
<div class="smart-block-card border border-gray-200 rounded-lg p-4 hover:border-purple-200 hover:bg-purple-50/30 transition-colors cursor-pointer" data-block-type="assessment_plan">
<div class="flex items-center mb-3">
<div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center mr-3">
<i class="ri-clipboard-line text-purple-600"></i>
</div>
<div>
<h3 class="text-sm font-medium text-gray-900">Assessment & Plan</h3>
<p class="text-xs text-gray-500">Clinical assessment and treatment planning</p>
</div>
</div>
<p class="text-xs text-gray-600 mb-3">AI-guided differential diagnosis and evidence-based treatment recommendations.</p>
<div class="flex items-center justify-between">
<span class="text-xs text-purple-600 bg-purple-100 px-2 py-1 rounded-full">Coming Soon</span>
<button class="text-gray-400 hover:text-gray-600">
<i class="ri-more-2-fill"></i>
</button>
</div>
</div>
<div class="smart-block-card border border-gray-200 rounded-lg p-4 hover:border-purple-200 hover:bg-purple-50/30 transition-colors cursor-pointer" data-block-type="vital_signs">
<div class="flex items-center mb-3">
<div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center mr-3">
<i class="ri-heart-pulse-line text-purple-600"></i>
</div>
<div>
<h3 class="text-sm font-medium text-gray-900">Vital Signs</h3>
<p class="text-xs text-gray-500">Automated vital signs documentation</p>
</div>
</div>
<p class="text-xs text-gray-600 mb-3">Smart interpretation of vital signs with trend analysis and clinical alerts.</p>
<div class="flex items-center justify-between">
<span class="text-xs text-purple-600 bg-purple-100 px-2 py-1 rounded-full">Coming Soon</span>
<button class="text-gray-400 hover:text-gray-600">
<i class="ri-more-2-fill"></i>
</button>
</div>
</div>
<div class="smart-block-card border border-gray-200 rounded-lg p-4 hover:border-purple-200 hover:bg-purple-50/30 transition-colors cursor-pointer" data-block-type="hpi">
<div class="flex items-center mb-3">
<div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center mr-3">
<i class="ri-time-line text-purple-600"></i>
</div>
<div>
<h3 class="text-sm font-medium text-gray-900">History of Present Illness</h3>
<p class="text-xs text-gray-500">Comprehensive symptom documentation</p>
</div>
</div>
<p class="text-xs text-gray-600 mb-3">Guided history taking with symptom timelines and associated factors.</p>
<div class="flex items-center justify-between">
<span class="text-xs text-purple-600 bg-purple-100 px-2 py-1 rounded-full">Coming Soon</span>
<button class="text-gray-400 hover:text-gray-600">
<i class="ri-more-2-fill"></i>
</button>
</div>
</div>
<div class="smart-block-card border border-gray-200 rounded-lg p-4 hover:border-purple-200 hover:bg-purple-50/30 transition-colors cursor-pointer" data-block-type="medication_review">
<div class="flex items-center mb-3">
<div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center mr-3">
<i class="ri-medicine-bottle-line text-purple-600"></i>
</div>
<div>
<h3 class="text-sm font-medium text-gray-900">Medication Review</h3>
<p class="text-xs text-gray-500">Smart medication reconciliation</p>
</div>
</div>
<p class="text-xs text-gray-600 mb-3">Automated medication list review with interaction checks and dosing recommendations.</p>
<div class="flex items-center justify-between">
<span class="text-xs text-purple-600 bg-purple-100 px-2 py-1 rounded-full">Coming Soon</span>
<button class="text-gray-400 hover:text-gray-600">
<i class="ri-more-2-fill"></i>
</button>
</div>
</div>
</div>
</div>
</div>
<!-- Templates Section -->
<div class="bg-white rounded-lg border border-gray-200 overflow-hidden">
<div class="p-6">
<div class="flex items-center justify-between mb-6">
<div>
<h2 class="text-lg font-semibold text-gray-900">Templates</h2>
<p class="text-sm text-gray-600 mt-1">Manage your document templates</p>
</div>
<button id="createTemplateBtn" class="px-4 py-2 text-primary border border-primary/20 bg-primary/5 rounded-button flex items-center whitespace-nowrap">
<div class="w-4 h-4 flex items-center justify-center mr-2">
<i class="ri-add-line"></i>
</div>
Create Template
</button>
<div id="templateTypeSelector" class="fixed inset-0 bg-gray-500 bg-opacity-50 hidden flex items-center justify-center z-50">
<div class="bg-white rounded-lg w-[400px] max-h-[90vh] flex flex-col">
<div class="p-4 border-b border-gray-200">
<div class="flex items-center justify-between">
<h3 class="text-base font-medium text-gray-900">Select Template Type</h3>
<button id="closeTemplateTypeSelector" class="text-gray-400 hover:text-gray-600">
<div class="w-5 h-5 flex items-center justify-center">
<i class="ri-close-line"></i>
</div>
</button>
</div>
</div>
<div class="p-6 flex h-[600px]">
<div class="w-[240px] border-r border-gray-200 pr-4">
<div class="space-y-6">
<div>
<h3 class="text-xs font-medium text-gray-500 uppercase mb-3">Basic Elements</h3>
<div class="space-y-2">
<button class="element-btn w-full flex items-center p-2 text-gray-600 hover:bg-gray-50 rounded-lg">
<div class="w-8 h-8 bg-primary/5 rounded-lg flex items-center justify-center mr-2">
<i class="ri-text-line text-primary"></i>
</div>
<span class="text-sm">Title</span>
</button>
<button class="element-btn w-full flex items-center p-2 text-gray-600 hover:bg-gray-50 rounded-lg">
<div class="w-8 h-8 bg-primary/5 rounded-lg flex items-center justify-center mr-2">
<i class="ri-text-wrap text-primary"></i>
</div>
<span class="text-sm">Paragraph</span>
</button>
<button class="element-btn w-full flex items-center p-2 text-gray-600 hover:bg-gray-50 rounded-lg">
<div class="w-8 h-8 bg-primary/5 rounded-lg flex items-center justify-center mr-2">
<i class="ri-list-check-2 text-primary"></i>
</div>
<span class="text-sm">Checklist</span>
</button>
</div>
</div>
<div>
<h3 class="text-xs font-medium text-gray-500 uppercase mb-3">Form Fields</h3>
<div class="space-y-2">
<button class="element-btn w-full flex items-center p-2 text-gray-600 hover:bg-gray-50 rounded-lg">
<div class="w-8 h-8 bg-primary/5 rounded-lg flex items-center justify-center mr-2">
<i class="ri-questionnaire-line text-primary"></i>
</div>
<span class="text-sm">Question</span>
</button>
<button class="element-btn w-full flex items-center p-2 text-gray-600 hover:bg-gray-50 rounded-lg">
<div class="w-8 h-8 bg-primary/5 rounded-lg flex items-center justify-center mr-2">
<i class="ri-radio-button-line text-primary"></i>
</div>
<span class="text-sm">Multiple Choice</span>
</button>
<button class="element-btn w-full flex items-center p-2 text-gray-600 hover:bg-gray-50 rounded-lg">
<div class="w-8 h-8 bg-primary/5 rounded-lg flex items-center justify-center mr-2">
<i class="ri-checkbox-line text-primary"></i>
</div>
<span class="text-sm">Checkboxes</span>
</button>
</div>
</div>
<div>
<h3 class="text-xs font-medium text-gray-500 uppercase mb-3">Media</h3>
<div class="space-y-2">
<button class="element-btn w-full flex items-center p-2 text-gray-600 hover:bg-gray-50 rounded-lg">
<div class="w-8 h-8 bg-primary/5 rounded-lg flex items-center justify-center mr-2">
<i class="ri-image-line text-primary"></i>
</div>
<span class="text-sm">Image</span>
</button>
<button class="element-btn w-full flex items-center p-2 text-gray-600 hover:bg-gray-50 rounded-lg">
<div class="w-8 h-8 bg-primary/5 rounded-lg flex items-center justify-center mr-2">
<i class="ri-video-line text-primary"></i>
</div>
<span class="text-sm">Video</span>
</button>
<button class="element-btn w-full flex items-center p-2 text-gray-600 hover:bg-gray-50 rounded-lg">
<div class="w-8 h-8 bg-primary/5 rounded-lg flex items-center justify-center mr-2">
<i class="ri-attachment-line text-primary"></i>
</div>
<span class="text-sm">File Upload</span>
</button>
</div>
</div>
<div>
<h3 class="text-xs font-medium text-gray-500 uppercase mb-3">Advanced</h3>
<div class="space-y-2">
<button class="element-btn w-full flex items-center p-2 text-gray-600 hover:bg-gray-50 rounded-lg">
<div class="w-8 h-8 bg-primary/5 rounded-lg flex items-center justify-center mr-2">
<i class="ri-table-line text-primary"></i>
</div>
<span class="text-sm">Table</span>
</button>
<button class="element-btn w-full flex items-center p-2 text-gray-600 hover:bg-gray-50 rounded-lg">
<div class="w-8 h-8 bg-primary/5 rounded-lg flex items-center justify-center mr-2">
<i class="ri-calendar-line text-primary"></i>
</div>
<span class="text-sm">Date & Time</span>
</button>
<button class="element-btn w-full flex items-center p-2 text-gray-600 hover:bg-gray-50 rounded-lg">
<div class="w-8 h-8 bg-primary/5 rounded-lg flex items-center justify-center mr-2">
<i class="ri-pen-nib-line text-primary"></i>
</div>
<span class="text-sm">Signature</span>
</button>
</div>
</div>
<div>
<h3 class="text-xs font-medium text-gray-500 uppercase mb-3">Smart Blocks</h3>
<div class="space-y-2">
<button class="element-btn w-full flex items-center p-2 text-gray-600 hover:bg-gray-50 rounded-lg">
<div class="w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center mr-2">
<i class="ri-brain-line text-purple-600"></i>
</div>
<span class="text-sm">Chief Complaint</span>
</button>
<button class="element-btn w-full flex items-center p-2 text-gray-600 hover:bg-gray-50 rounded-lg">
<div class="w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center mr-2">
<i class="ri-stethoscope-line text-purple-600"></i>
</div>
<span class="text-sm">Physical Exam</span>
</button>
<button class="element-btn w-full flex items-center p-2 text-gray-600 hover:bg-gray-50 rounded-lg">
<div class="w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center mr-2">
<i class="ri-medicine-bottle-line text-purple-600"></i>
</div>
<span class="text-sm">Medication Review</span>
</button>
<button class="element-btn w-full flex items-center p-2 text-gray-600 hover:bg-gray-50 rounded-lg">
<div class="w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center mr-2">
<i class="ri-heart-pulse-line text-purple-600"></i>
</div>
<span class="text-sm">Vital Signs</span>
</button>
<button class="element-btn w-full flex items-center p-2 text-gray-600 hover:bg-gray-50 rounded-lg">
<div class="w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center mr-2">
<i class="ri-clipboard-line text-purple-600"></i>
</div>
<span class="text-sm">Assessment & Plan</span>
</button>
<button class="element-btn w-full flex items-center p-2 text-gray-600 hover:bg-gray-50 rounded-lg">
<div class="w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center mr-2">
<i class="ri-time-line text-purple-600"></i>
</div>
<span class="text-sm">History of Present Illness</span>
</button>
<button class="element-btn w-full flex items-center p-2 text-gray-600 hover:bg-gray-50 rounded-lg">
<div class="w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center mr-2">
<i class="ri-user-heart-line text-purple-600"></i>
</div>
<span class="text-sm">Social History</span>
</button>
<button class="element-btn w-full flex items-center p-2 text-gray-600 hover:bg-gray-50 rounded-lg">
<div class="w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center mr-2">
<i class="ri-dna-line text-purple-600"></i>
</div>
<span class="text-sm">Family History</span>
</button>
</div>
</div>
</div>
</div>
<div class="flex-1 pl-6">
<div class="bg-gray-50 rounded-lg h-full p-6">
<div class="bg-white rounded-lg h-full p-6 border border-gray-200">
<div class="text-center text-gray-500 text-sm">
<i class="ri-drag-drop-line text-2xl mb-2"></i>
<p>Drag and drop elements here</p>
<p>or click elements from the left panel to add</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="createTemplateModal" class="fixed inset-0 bg-gray-500 bg-opacity-50 hidden flex items-center justify-center z-50">
<div class="bg-white rounded-lg w-[800px] max-h-[90vh] flex flex-col">
<div class="p-6 border-b border-gray-200">
<div class="flex items-center justify-between">
<h3 class="text-lg font-semibold text-gray-900">Create New Template</h3>
<button id="closeTemplateModal" class="text-gray-400 hover:text-gray-600">
<div class="w-5 h-5 flex items-center justify-center">
<i class="ri-close-line"></i>
</div>
</button>
</div>
</div>
<div class="p-6 flex-1 overflow-y-auto">
<form id="templateForm" class="space-y-6">
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">Template Name</label>
<input type="text" id="templateName" class="w-full px-3 py-2 border border-gray-200 rounded-lg text-sm" placeholder="Enter template name" required>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">Category</label>
<div class="relative">
<select id="templateCategory" class="w-full px-3 py-2 border border-gray-200 rounded-lg text-sm appearance-none pr-8" required>
<option value="">Select category</option>
<option value="patient-forms">Patient Forms</option>
<option value="medical-records">Medical Records</option>
<option value="consent-forms">Consent Forms</option>
<option value="treatment-plans">Treatment Plans</option>
</select>
<div class="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none">
<i class="ri-arrow-down-s-line text-gray-400"></i>
</div>
</div>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">Description</label>
<textarea id="templateDescription" class="w-full px-3 py-2 border border-gray-200 rounded-lg text-sm" rows="3" placeholder="Enter template description" required></textarea>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">Content</label>
<div class="border border-gray-200 rounded-lg overflow-hidden">
<div class="bg-gray-50 border-b border-gray-200 p-2 flex items-center gap-2">
<button type="button" class="p-1.5 hover:bg-gray-200 rounded" data-format="bold">
<i class="ri-bold"></i>
</button>
<button type="button" class="p-1.5 hover:bg-gray-200 rounded" data-format="italic">
<i class="ri-italic"></i>
</button>
<button type="button" class="p-1.5 hover:bg-gray-200 rounded" data-format="underline">
<i class="ri-underline"></i>
</button>
<div class="w-px h-4 bg-gray-300 mx-1"></div>
<button type="button" class="p-1.5 hover:bg-gray-200 rounded" data-format="h1">H1</button>
<button type="button" class="p-1.5 hover:bg-gray-200 rounded" data-format="h2">H2</button>
<button type="button" class="p-1.5 hover:bg-gray-200 rounded" data-format="h3">H3</button>
</div>
<div id="templateContent" class="p-4 min-h-[200px]" contenteditable="true"></div>
</div>
</div>
</form>
</div>
<div class="p-6 border-t border-gray-200 flex items-center justify-between">
<div class="flex items-center">
<button id="previewTemplate" class="px-4 py-2 text-gray-700 border border-gray-200 rounded-button flex items-center whitespace-nowrap mr-3">
<div class="w-4 h-4 flex items-center justify-center mr-2">
<i class="ri-eye-line"></i>
</div>
Preview
</button>
</div>
<div class="flex items-center space-x-3">
<button id="cancelTemplate" class="px-4 py-2 text-gray-700 border border-gray-200 rounded-button whitespace-nowrap">Cancel</button>
<button type="submit" form="templateForm" class="px-4 py-2 bg-primary text-white rounded-button whitespace-nowrap">Save Template</button>
</div>
</div>
</div>
<div id="templatePreview" class="fixed inset-0 bg-gray-500 bg-opacity-50 hidden flex items-center justify-center z-50">
<div class="bg-white rounded-lg w-[800px] max-h-[90vh] flex flex-col">
<div class="p-6 border-b border-gray-200">
<div class="flex items-center justify-between">
<h3 class="text-lg font-semibold text-gray-900">Template Preview</h3>
<button id="closePreview" class="text-gray-400 hover:text-gray-600">
<div class="w-5 h-5 flex items-center justify-center">
<i class="ri-close-line"></i>
</div>
</button>
</div>
</div>
<div id="previewContent" class="p-6 flex-1 overflow-y-auto">
</div>
<div class="p-6 border-t border-gray-200">
<button id="backToEdit" class="px-4 py-2 text-gray-700 border border-gray-200 rounded-button whitespace-nowrap">Back to Edit</button>
</div>
</div>
</div>
</div>
</div>
<div class="grid grid-cols-3 gap-4">
<!-- Template Card 1 -->
<div class="border border-gray-200 rounded-lg p-4 hover:border-primary/20 transition-colors">
<div class="flex items-start justify-between mb-4">
<div class="w-10 h-10 bg-primary/5 rounded-lg flex items-center justify-center">
<div class="w-5 h-5 flex items-center justify-center text-primary">
<i class="ri-file-text-line"></i>
</div>
</div>
<div class="template-actions opacity-0 transition-opacity">
<button class="text-gray-400 hover:text-gray-600">
<div class="w-4 h-4 flex items-center justify-center">
<i class="ri-more-2-fill"></i>
</div>
</button>
</div>
</div>
<h3 class="text-sm font-medium text-gray-900 mb-1">Patient Intake Form</h3>
<p class="text-xs text-gray-500 mb-3">Standard intake form for new patients</p>
<div class="flex items-center text-xs text-gray-500">
<div class="w-3 h-3 flex items-center justify-center mr-1">
<i class="ri-time-line"></i>
</div>
Updated 2 days ago
</div>
</div>
<!-- Template Card 2 -->
<div class="border border-gray-200 rounded-lg p-4 hover:border-primary/20 transition-colors">
<div class="flex items-start justify-between mb-4">
<div class="w-10 h-10 bg-primary/5 rounded-lg flex items-center justify-center">
<div class="w-5 h-5 flex items-center justify-center text-primary">
<i class="ri-file-text-line"></i>
</div>
</div>
<div class="template-actions opacity-0 transition-opacity">
<button class="text-gray-400 hover:text-gray-600">
<div class="w-4 h-4 flex items-center justify-center">
<i class="ri-more-2-fill"></i>
</div>
</button>
</div>
</div>
<h3 class="text-sm font-medium text-gray-900 mb-1">Medical History Form</h3>
<p class="text-xs text-gray-500 mb-3">Detailed medical history questionnaire</p>
<div class="flex items-center text-xs text-gray-500">
<div class="w-3 h-3 flex items-center justify-center mr-1">
<i class="ri-time-line"></i>
</div>
Updated 5 days ago
</div>
</div>
<!-- Template Card 3 -->
<div class="border border-gray-200 rounded-lg p-4 hover:border-primary/20 transition-colors">
<div class="flex items-start justify-between mb-4">
<div class="w-10 h-10 bg-primary/5 rounded-lg flex items-center justify-center">
<div class="w-5 h-5 flex items-center justify-center text-primary">
<i class="ri-file-text-line"></i>
</div>
</div>
<div class="template-actions opacity-0 transition-opacity">
<button class="text-gray-400 hover:text-gray-600">
<div class="w-4 h-4 flex items-center justify-center">
<i class="ri-more-2-fill"></i>
</div>
</button>
</div>
</div>
<h3 class="text-sm font-medium text-gray-900 mb-1">Consent Form</h3>
<p class="text-xs text-gray-500 mb-3">Treatment consent documentation</p>
<div class="flex items-center text-xs text-gray-500">
<div class="w-3 h-3 flex items-center justify-center mr-1">
<i class="ri-time-line"></i>
</div>
Updated 1 week ago
</div>
</div>
</div>
</div>
</div>
<!-- Workflows Section -->
<div class="bg-white rounded-lg border border-gray-200 overflow-hidden">
<div class="p-6">
<div class="flex items-center justify-between mb-6">
<div>
<h2 class="text-lg font-semibold text-gray-900">Popular Templates</h2>
<p class="text-sm text-gray-600 mt-1">Standardize your clinical processes</p>
</div>
<button id="createWorkflowBtn" class="px-4 py-2 text-primary border border-primary/20 bg-primary/5 rounded-button flex items-center whitespace-nowrap">
<div class="w-4 h-4 flex items-center justify-center mr-2">
<i class="ri-arrow-right-line"></i>
</div>
Explore More
</button>
<div id="createWorkflowModal" class="fixed inset-0 bg-gray-500 bg-opacity-50 hidden flex items-center justify-center z-50">
<div class="bg-white rounded-lg w-[800px] max-h-[90vh] flex flex-col">
<div class="p-6 border-b border-gray-200">
<div class="flex items-center justify-between">
<h3 class="text-lg font-semibold text-gray-900">Create New Workflow</h3>
<button id="closeWorkflowModal" class="text-gray-400 hover:text-gray-600">
<div class="w-5 h-5 flex items-center justify-center">
<i class="ri-close-line"></i>
</div>
</button>
</div>
</div>
<div class="p-6 flex-1 overflow-y-auto">
<form id="workflowForm" class="space-y-6">
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">Workflow Name</label>
<input type="text" id="workflowName" class="w-full px-3 py-2 border border-gray-200 rounded-lg text-sm" placeholder="Enter workflow name" required>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">Description</label>
<textarea id="workflowDescription" class="w-full px-3 py-2 border border-gray-200 rounded-lg text-sm" rows="3" placeholder="Enter workflow description" required></textarea>
</div>
<div>
<div class="flex items-center justify-between mb-2">
<label class="block text-sm font-medium text-gray-700">Workflow Steps</label>
<button type="button" id="addStepBtn" class="text-sm text-primary font-medium flex items-center">
<div class="w-4 h-4 flex items-center justify-center mr-1">
<i class="ri-add-line"></i>
</div>
Add Step
</button>
<div id="stepTypeSelector" class="fixed inset-0 bg-gray-500 bg-opacity-50 hidden flex items-center justify-center z-50">
<div class="bg-white rounded-lg w-[400px] max-h-[90vh] flex flex-col">
<div class="p-4 border-b border-gray-200">
<div class="flex items-center justify-between">
<h3 class="text-base font-medium text-gray-900">Add Step From Template - Select Step Type</h3>
<button id="closeStepSelector" class="text-gray-400 hover:text-gray-600">
<div class="w-5 h-5 flex items-center justify-center">
<i class="ri-close-line"></i>
</div>
</button>
</div>
</div>
<div class="p-4">
<div class="grid grid-cols-1 gap-3">
<button class="step-type-btn flex items-center p-3 border border-gray-200 rounded-lg hover:border-primary/20 transition-colors">
<div class="w-8 h-8 bg-primary/5 rounded-lg flex items-center justify-center mr-3">
<div class="w-4 h-4 flex items-center justify-center text-primary">
<i class="ri-calendar-2-line"></i>
</div>
</div>
<div class="text-left">
<div class="text-sm font-medium text-gray-900">Calendar Event</div>
<div class="text-xs text-gray-500">Schedule an appointment or event</div>
</div>
</button>
<button class="step-type-btn flex items-center p-3 border border-gray-200 rounded-lg hover:border-primary/20 transition-colors">
<div class="w-8 h-8 bg-primary/5 rounded-lg flex items-center justify-center mr-3">
<div class="w-4 h-4 flex items-center justify-center text-primary">
<i class="ri-task-line"></i>
</div>
</div>
<div class="text-left">
<div class="text-sm font-medium text-gray-900">Task</div>
<div class="text-xs text-gray-500">Add a task or checklist item</div>
</div>
</button>
<button class="step-type-btn flex items-center p-3 border border-gray-200 rounded-lg hover:border-primary/20 transition-colors">
<div class="w-8 h-8 bg-primary/5 rounded-lg flex items-center justify-center mr-3">
<div class="w-4 h-4 flex items-center justify-center text-primary">
<i class="ri-file-text-line"></i>
</div>
</div>
<div class="text-left">
<div class="text-sm font-medium text-gray-900">Document</div>
<div class="text-xs text-gray-500">Attach a document or form</div>
</div>
</button>
<button class="step-type-btn flex items-center p-3 border border-gray-200 rounded-lg hover:border-primary/20 transition-colors">
<div class="w-8 h-8 bg-primary/5 rounded-lg flex items-center justify-center mr-3">
<div class="w-4 h-4 flex items-center justify-center text-primary">
<i class="ri-shopping-cart-line"></i>
</div>
</div>
<div class="text-left">
<div class="text-sm font-medium text-gray-900">Product Bundle</div>
<div class="text-xs text-gray-500">Create a product or service order</div>
</div>
</button>
<button class="step-type-btn flex items-center p-3 border border-gray-200 rounded-lg hover:border-primary/20 transition-colors">
<div class="w-8 h-8 bg-primary/5 rounded-lg flex items-center justify-center mr-3">
<div class="w-4 h-4 flex items-center justify-center text-primary">
<i class="ri-flow-chart"></i>
</div>
</div>
<div class="text-left">
<div class="text-sm font-medium text-gray-900">Workflow</div>
<div class="text-xs text-gray-500">Include another workflow</div>
</div>
</button>
</div>
</div>
</div>
</div>
</div>
<div id="workflowSteps" class="space-y-4">
</div>
</div>
</form>
</div>
<div class="p-6 border-t border-gray-200 flex items-center justify-between">
<button id="cancelWorkflow" class="px-4 py-2 text-gray-700 border border-gray-200 rounded-button whitespace-nowrap">Cancel</button>
<button type="submit" form="workflowForm" class="px-4 py-2 bg-primary text-white rounded-button whitespace-nowrap">Save Workflow</button>
</div>
</div>
</div>
</div>
<div class="grid grid-cols-1 gap-4">
<!-- Template Item 1 -->
<div class="border border-gray-200 rounded-lg p-4">
<div class="flex items-center justify-between">
<div class="flex items-center">
<div class="w-10 h-10 bg-primary/5 rounded-lg flex items-center justify-center mr-4">
<div class="w-5 h-5 flex items-center justify-center text-primary">
<i class="ri-file-text-line"></i>
</div>
</div>
<div>
<h3 class="text-sm font-medium text-gray-900">Holistic Health Assessment</h3>
<p class="text-xs text-gray-500 mt-1">Comprehensive wellness evaluation form</p>
</div>
</div>
<button class="text-gray-400 hover:text-gray-600">
<div class="w-4 h-4 flex items-center justify-center">
<i class="ri-more-2-fill"></i>
</div>
</button>
</div>
</div>
<!-- Template Item 2 -->
<div class="border border-gray-200 rounded-lg p-4">
<div class="flex items-center justify-between">
<div class="flex items-center">
<div class="w-10 h-10 bg-primary/5 rounded-lg flex items-center justify-center mr-4">
<div class="w-5 h-5 flex items-center justify-center text-primary">
<i class="ri-file-text-line"></i>
</div>
</div>
<div>
<h3 class="text-sm font-medium text-gray-900">Nutrition & Lifestyle Questionnaire</h3>
<p class="text-xs text-gray-500 mt-1">Dietary habits and lifestyle assessment</p>
</div>
</div>
<button class="text-gray-400 hover:text-gray-600">
<div class="w-4 h-4 flex items-center justify-center">
<i class="ri-more-2-fill"></i>
</div>
</button>
</div>
</div>
<!-- Template Item 3 -->
<div class="border border-gray-200 rounded-lg p-4">
<div class="flex items-center justify-between">
<div class="flex items-center">
<div class="w-10 h-10 bg-primary/5 rounded-lg flex items-center justify-center mr-4">
<div class="w-5 h-5 flex items-center justify-center text-primary">
<i class="ri-file-text-line"></i>
</div>
</div>
<div>
<h3 class="text-sm font-medium text-gray-900">Wellness Progress Report</h3>
<p class="text-xs text-gray-500 mt-1">Monthly wellness tracking template</p>
</div>
</div>
<button class="text-gray-400 hover:text-gray-600">
<div class="w-4 h-4 flex items-center justify-center">
<i class="ri-more-2-fill"></i>
</div>
</button>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script id="workbenchNavScript">
document.addEventListener('DOMContentLoaded', function() {
// Column order modal handlers
const openColumnOrder = document.getElementById('openColumnOrder');
const columnOrderModal = document.getElementById('columnOrderModal');
const closeColumnOrder = document.getElementById('closeColumnOrder');
const cancelColumnOrder = document.getElementById('cancelColumnOrder');
openColumnOrder.addEventListener('click', () => {
columnOrderModal.classList.remove('hidden');
document.body.style.overflow = 'hidden';
});
closeColumnOrder.addEventListener('click', () => {
columnOrderModal.classList.add('hidden');
document.body.style.overflow = '';
});
cancelColumnOrder.addEventListener('click', () => {
columnOrderModal.classList.add('hidden');
document.body.style.overflow = '';
});
window.addEventListener('click', (e) => {
if (e.target === columnOrderModal) {
columnOrderModal.classList.add('hidden');
document.body.style.overflow = '';
}
});
// Report format radio and checkbox handlers
const radioInputs = document.querySelectorAll('input[type="radio"]');
const checkboxInputs = document.querySelectorAll('input[type="checkbox"]');
radioInputs.forEach(radio => {
radio.addEventListener('change', function() {
// Reset all radio indicators in the same group
const groupName = this.name;
document.querySelectorAll(`input[name="${groupName}"]`).forEach(input => {
const indicator = input.nextElementSibling.querySelector('div');
indicator.classList.add('hidden');
});
// Show the selected radio indicator
if (this.checked) {
const indicator = this.nextElementSibling.querySelector('div');
indicator.classList.remove('hidden');
}
});
});
checkboxInputs.forEach(checkbox => {
checkbox.addEventListener('change', function() {
const checkmark = this.nextElementSibling.querySelector('i');
const container = this.nextElementSibling;
if (this.checked) {
container.classList.add('bg-primary', 'border-primary');
checkmark.classList.remove('hidden');
} else {
container.classList.remove('bg-primary', 'border-primary');
checkmark.classList.add('hidden');
}
});
});
const saveColumnOrder = document.getElementById('saveColumnOrder');
const columnList = document.getElementById('columnList');
let draggedItem = null;
columnList.addEventListener('dragstart', (e) => {
draggedItem = e.target;
e.target.classList.add('opacity-50');
});
columnList.addEventListener('dragend', (e) => {
e.target.classList.remove('opacity-50');
});
columnList.addEventListener('dragover', (e) => {
e.preventDefault();
const afterElement = getDragAfterElement(columnList, e.clientY);
const draggable = document.querySelector('.opacity-50');
if (afterElement == null) {
columnList.appendChild(draggable);
} else {
columnList.insertBefore(draggable, afterElement);
}
});
function getDragAfterElement(container, y) {
const draggableElements = [...container.querySelectorAll('[draggable]:not(.opacity-50)')];
return draggableElements.reduce((closest, child) => {
const box = child.getBoundingClientRect();
const offset = y - box.top - box.height / 2;
if (offset < 0 && offset > closest.offset) {
return { offset: offset, element: child };
} else {
return closest;
}
}, { offset: Number.NEGATIVE_INFINITY }).element;
}
saveColumnOrder.addEventListener('click', () => {
const columns = Array.from(columnList.children).map(item => item.dataset.column);
const notification = document.createElement('div');
notification.className = 'fixed top-4 right-4 bg-green-50 text-green-600 px-4 py-3 rounded-lg shadow-lg z-50';
notification.innerHTML = 'Column order saved successfully!';
document.body.appendChild(notification);
setTimeout(() => {
notification.remove();
}, 2000);
});
const addProgramBtn = document.getElementById('addProgramBtn');
const addProgramModal = document.getElementById('addProgramModal');
const closeProgramModal = document.getElementById('closeProgramModal');
const cancelProgram = document.getElementById('cancelProgram');
const programForm = document.getElementById('programForm');
const addServiceBtn = document.getElementById('addServiceBtn');
const servicesList = document.getElementById('servicesList');
// Program type toggle
const programTypeRadios = document.querySelectorAll('input[name="programType"]');
const seasonalDates = document.getElementById('seasonalDates');
const rollingDuration = document.getElementById('rollingDuration');
programTypeRadios.forEach(radio => {
radio.addEventListener('change', () => {
const radioDiv = radio.nextElementSibling.querySelector('div');
document.querySelectorAll('.program-radio div').forEach(div => div.classList.add('hidden'));
if (radio.checked) {
radioDiv.classList.remove('hidden');
if (radio.value === 'seasonal') {
seasonalDates.classList.remove('hidden');
rollingDuration.classList.add('hidden');
document.getElementById('duration').removeAttribute('required');
document.getElementById('startDate').setAttribute('required', '');
document.getElementById('endDate').setAttribute('required', '');
} else {
seasonalDates.classList.add('hidden');
rollingDuration.classList.remove('hidden');
document.getElementById('duration').setAttribute('required', '');
document.getElementById('startDate').removeAttribute('required');
document.getElementById('endDate').removeAttribute('required');
}
}
});
});
// Capacity toggle
const hasCapacity = document.getElementById('hasCapacity');
const capacityLimit = document.getElementById('capacityLimit');
const capacityCheckbox = document.querySelector('.capacity-checkbox');
hasCapacity.addEventListener('change', () => {
if (hasCapacity.checked) {
capacityCheckbox.classList.add('bg-primary', 'border-primary');
capacityCheckbox.querySelector('i').classList.remove('hidden');
capacityLimit.classList.remove('opacity-50');
capacityLimit.removeAttribute('disabled');
capacityLimit.setAttribute('required', '');
} else {
capacityCheckbox.classList.remove('bg-primary', 'border-primary');
capacityCheckbox.querySelector('i').classList.add('hidden');
capacityLimit.classList.add('opacity-50');
capacityLimit.setAttribute('disabled', '');
capacityLimit.removeAttribute('required');
}
});
// Service selection
document.addEventListener('click', (e) => {
const serviceSelector = e.target.closest('.service-selector');
if (serviceSelector) {
const dropdown = serviceSelector.nextElementSibling;
dropdown.classList.toggle('hidden');
} else if (!e.target.closest('.service-dropdown')) {
document.querySelectorAll('.service-dropdown').forEach(dropdown => {
dropdown.classList.add('hidden');
});
}
});
document.querySelectorAll('.service-dropdown button').forEach(button => {
button.addEventListener('click', () => {
const selector = button.closest('.relative').querySelector('.service-selector span');
selector.textContent = button.textContent;
selector.classList.remove('text-gray-400');
button.closest('.service-dropdown').classList.add('hidden');
});
});
function handleProgramModalClose() {
addProgramModal.classList.add('hidden');
document.body.style.overflow = '';
programForm.reset();
const services = servicesList.querySelectorAll('.flex');
Array.from(services).slice(1).forEach(service => service.remove());
servicesList.querySelector('.remove-service').classList.add('hidden');
document.querySelectorAll('.service-selector span').forEach(span => {
span.textContent = 'Select a service';
span.classList.add('text-gray-400');
});
document.querySelector('input[name="programType"][value="seasonal"]').checked = true;
document.querySelector('input[name="programType"][value="seasonal"]').dispatchEvent(new Event('change'));
document.getElementById('hasCapacity').checked = false;
document.getElementById('hasCapacity').dispatchEvent(new Event('change'));
}
addProgramBtn.addEventListener('click', () => {
addProgramModal.classList.remove('hidden');
document.body.style.overflow = 'hidden';
});
closeProgramModal.addEventListener('click', handleProgramModalClose);
cancelProgram.addEventListener('click', handleProgramModalClose);
addServiceBtn.addEventListener('click', () => {
const serviceDiv = document.createElement('div');
serviceDiv.className = 'flex items-center gap-2';
serviceDiv.innerHTML = `
<div class="relative flex-1">
<button type="button" class="service-selector w-full px-3 py-2 border border-gray-200 rounded-lg text-sm text-left flex items-center justify-between">
<span class="text-gray-400">Select a service</span>
<i class="ri-arrow-down-s-line text-gray-400"></i>
</button>
<div class="service-dropdown hidden absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-10">
<div class="p-2">
<div class="text-xs font-medium text-gray-500 mb-2">Vibrant Products</div>
<div class="space-y-1 mb-3">
<button type="button" class="w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded text-left">Complete Blood Count ($40.25)</button>
<button type="button" class="w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded text-left">Lipid Panel ($51.75)</button>
</div>
<div class="text-xs font-medium text-gray-500 mb-2">Practice Products</div>
<div class="space-y-1 mb-3">
<button type="button" class="w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded text-left">Annual Health Check ($250.00)</button>
<button type="button" class="w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded text-left">Wellness Package ($499.00)</button>
</div>
<div class="text-xs font-medium text-gray-500 mb-2">Workflows</div>
<div class="space-y-1">
<button type="button" class="w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded text-left">New Patient Onboarding</button>
<button type="button" class="w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded text-left">Annual Check-up Protocol</button>
</div>
</div>
</div>
</div>
<button type="button" class="remove-service text-gray-400 hover:text-gray-600">
<div class="w-5 h-5 flex items-center justify-center">
<i class="ri-delete-bin-line"></i>
</div>
</button>
`;
servicesList.appendChild(serviceDiv);
servicesList.querySelector('.remove-service').classList.remove('hidden');
const newSelector = serviceDiv.querySelector('.service-selector');
const newDropdown = serviceDiv.querySelector('.service-dropdown');
const newDropdownButtons = newDropdown.querySelectorAll('button');
newDropdownButtons.forEach(button => {
button.addEventListener('click', () => {
const selector = button.closest('.relative').querySelector('.service-selector span');
selector.textContent = button.textContent;
selector.classList.remove('text-gray-400');
newDropdown.classList.add('hidden');
});
});
});
servicesList.addEventListener('click', (e) => {
if (e.target.closest('.remove-service')) {
const serviceDiv = e.target.closest('.flex');
serviceDiv.remove();
if (servicesList.children.length === 1) {
servicesList.querySelector('.remove-service').classList.add('hidden');
}
}
});
programForm.addEventListener('submit', (e) => {
e.preventDefault();
const notification = document.createElement('div');
notification.className = 'fixed top-4 right-4 bg-green-50 text-green-600 px-4 py-3 rounded-lg shadow-lg z-50';
notification.innerHTML = 'Program saved successfully!';
document.body.appendChild(notification);
setTimeout(() => {
notification.remove();
handleProgramModalClose();
}, 2000);
});
window.addEventListener('click', (e) => {
if (e.target === addProgramModal) {
handleProgramModalClose();
}
});
const createWorkflowBtn = document.getElementById('createWorkflowBtn');
const createWorkflowModal = document.getElementById('createWorkflowModal');
const closeWorkflowModalBtn = document.getElementById('closeWorkflowModal');
const workflowForm = document.getElementById('workflowForm');
const workflowSteps = document.getElementById('workflowSteps');
const addStepBtn = document.getElementById('addStepBtn');
const cancelWorkflow = document.getElementById('cancelWorkflow');
const handleWorkflowModalClose = () => {
createWorkflowModal.classList.add('hidden');
document.body.style.overflow = '';
workflowForm.reset();
const steps = workflowSteps.querySelectorAll('.workflow-step');
Array.from(steps).slice(1).forEach(step => step.remove());
};
const openWorkflowModal = () => {
createWorkflowModal.classList.remove('hidden');
document.body.style.overflow = 'hidden';
};
function createWorkflowStep(index) {
const stepDiv = document.createElement('div');
stepDiv.className = 'workflow-step border border-gray-200 rounded-lg p-4';
stepDiv.innerHTML = `
<div class="flex items-center justify-between mb-4">
<div class="flex items-center">
<div class="w-6 h-6 bg-primary/5 rounded-full flex items-center justify-center text-primary text-sm font-medium">${index}</div>
<input type="text" class="step-name ml-3 px-2 py-1 border-none text-sm font-medium" placeholder="Step name" required>
</div>
<button type="button" class="delete-step text-gray-400 hover:text-gray-600">
<div class="w-4 h-4 flex items-center justify-center">
<i class="ri-delete-bin-line"></i>
</div>
</button>
</div>
<div class="space-y-4">
<div>
<label class="block text-xs font-medium text-gray-700 mb-1">Event Title</label>
<input type="text" class="w-full px-3 py-2 border border-gray-200 rounded-lg text-sm" placeholder="Enter event title" required>
</div>
<div class="grid grid-cols-2 gap-3">
<div>
<label class="block text-xs font-medium text-gray-700 mb-1">Date</label>
<input type="date" class="w-full px-3 py-2 border border-gray-200 rounded-lg text-sm" required>
</div>
<div>
<label class="block text-xs font-medium text-gray-700 mb-1">Time</label>
<input type="time" class="w-full px-3 py-2 border border-gray-200 rounded-lg text-sm" required>
</div>
</div>
<div>
<label class="block text-xs font-medium text-gray-700 mb-1">Duration</label>
<div class="flex gap-2">
<input type="number" class="flex-1 px-3 py-2 border border-gray-200 rounded-lg text-sm" min="1" required>
<select class="px-3 py-2 border border-gray-200 rounded-lg text-sm">
<option value="minutes">Minutes</option>
<option value="hours">Hours</option>
</select>
</div>
</div>
<div>
<label class="block text-xs font-medium text-gray-700 mb-1">Location</label>
<input type="text" class="w-full px-3 py-2 border border-gray-200 rounded-lg text-sm" placeholder="Enter location">
</div>
<div>
<label class="block text-xs font-medium text-gray-700 mb-1">Description</label>
<textarea class="w-full px-3 py-2 border border-gray-200 rounded-lg text-sm" rows="2" placeholder="Enter event description"></textarea>
</div>
</div>
</div>
<div class="border-t border-gray-200 mt-6 pt-6">
<div class="space-y-3">
<h4 class="text-sm font-medium text-gray-900">Step Settings</h4>
<div class="space-y-3">
<label class="block text-xs font-medium text-gray-700">When this step is performed</label>
<div class="flex items-center gap-3">
<label class="flex items-center">
<input type="radio" name="triggerType_${index}" value="auto" class="hidden" checked>
<div class="w-4 h-4 border border-gray-300 rounded-full mr-2 flex items-center justify-center trigger-radio">
<div class="w-2 h-2 rounded-full bg-primary hidden"></div>
</div>
<span class="text-sm text-gray-700">Auto trigger next step</span>
</label>
<label class="flex items-center">
<input type="radio" name="triggerType_${index}" value="manual" class="hidden">
<div class="w-4 h-4 border border-gray-300 rounded-full mr-2 flex items-center justify-center trigger-radio">
<div class="w-2 h-2 rounded-full bg-primary hidden"></div>
</div>
<span class="text-sm text-gray-700">Remind me in the chat </span>
</label>
</div>
<div class="bg-gray-50 rounded-lg p-3 space-y-3">
<div>
<label class="block text-xs font-medium text-gray-700 mb-2">Wait before triggering next step</label>
<div class="grid grid-cols-2 gap-3">
<select class="wait-duration-type w-full px-3 py-2 border border-gray-200 rounded-lg text-sm">
<option value="no-wait">No wait</option>
<option value="success">When step is successful</option>
<option value="custom">Custom duration</option>
</select>
<div class="wait-duration-input hidden">
<div class="flex gap-2">
<input type="number" class="flex-1 px-3 py-2 border border-gray-200 rounded-lg text-sm" min="1">
<select class="px-3 py-2 border border-gray-200 rounded-lg text-sm">
<option value="minutes">Minutes</option>
<option value="hours">Hours</option>
<option value="days">Days</option>
</select>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
`;
// Add event listeners for the new step
const triggerRadios = stepDiv.querySelectorAll('input[name^="triggerType"]');
const triggerDivs = stepDiv.querySelectorAll('.trigger-radio div');
triggerRadios.forEach(radio => {
radio.addEventListener('change', () => {
triggerDivs.forEach(div => div.classList.add('hidden'));
if (radio.checked) {
radio.nextElementSibling.querySelector('div').classList.remove('hidden');
}
});
});
const waitDurationType = stepDiv.querySelector('.wait-duration-type');
const waitDurationInput = stepDiv.querySelector('.wait-duration-input');
waitDurationType.addEventListener('change', () => {
if (waitDurationType.value === 'custom') {
waitDurationInput.classList.remove('hidden');
} else {
waitDurationInput.classList.add('hidden');
}
});
return stepDiv;
}
function updateStepNumbers() {
const steps = workflowSteps.querySelectorAll('.workflow-step');
steps.forEach((step, index) => {
step.querySelector('.w-6.h-6').textContent = index + 1;
});
}
createWorkflowBtn.addEventListener('click', openWorkflowModal);

// Add event listeners for the workflow type specific buttons
const createPatientWorkflowBtn = document.getElementById('createPatientWorkflowBtn');
const createPracticeWorkflowBtn = document.getElementById('createPracticeWorkflowBtn');

if (createPatientWorkflowBtn) {
    createPatientWorkflowBtn.addEventListener('click', () => {
        window.location.href = 'workflow-composer.html?type=patient';
    });
}

if (createPracticeWorkflowBtn) {
    createPracticeWorkflowBtn.addEventListener('click', () => {
        window.location.href = 'workflow-composer.html?type=practice';
    });
}

closeWorkflowModalBtn.addEventListener('click', handleWorkflowModalClose);
cancelWorkflow.addEventListener('click', handleWorkflowModalClose);
const stepTypeSelector = document.getElementById('stepTypeSelector');
const closeStepSelector = document.getElementById('closeStepSelector');
addStepBtn.addEventListener('click', () => {
stepTypeSelector.classList.remove('hidden');
document.body.style.overflow = 'hidden';
});
closeStepSelector.addEventListener('click', () => {
stepTypeSelector.classList.add('hidden');
document.body.style.overflow = '';
});
document.querySelectorAll('.step-type-btn').forEach(btn => {
btn.addEventListener('click', () => {
const steps = workflowSteps.querySelectorAll('.workflow-step');
const newStep = createWorkflowStep(steps.length + 1);
workflowSteps.appendChild(newStep);
stepTypeSelector.classList.add('hidden');
document.body.style.overflow = '';
});
});
window.addEventListener('click', (e) => {
if (e.target === stepTypeSelector) {
stepTypeSelector.classList.add('hidden');
document.body.style.overflow = '';
}
});
workflowSteps.addEventListener('click', (e) => {
if (e.target.closest('.delete-step')) {
const step = e.target.closest('.workflow-step');
if (workflowSteps.querySelectorAll('.workflow-step').length > 1) {
step.remove();
updateStepNumbers();
}
}
});
workflowForm.addEventListener('submit', (e) => {
e.preventDefault();
const notification = document.createElement('div');
notification.className = 'fixed top-4 right-4 bg-green-50 text-green-600 px-4 py-3 rounded-lg shadow-lg z-50';
notification.innerHTML = 'Workflow saved successfully!';
document.body.appendChild(notification);
setTimeout(() => {
notification.remove();
closeWorkflowModal();
}, 2000);
});
window.addEventListener('click', (e) => {
if (e.target === createWorkflowModal) {
handleWorkflowModalClose();
}
});
const createTemplateBtn = document.getElementById('createTemplateBtn');
const createTemplateModal = document.getElementById('createTemplateModal');
const closeTemplateModal = document.getElementById('closeTemplateModal');
const templateForm = document.getElementById('templateForm');
const templateContent = document.getElementById('templateContent');
const previewTemplate = document.getElementById('previewTemplate');
const templatePreview = document.getElementById('templatePreview');
const previewContent = document.getElementById('previewContent');
const closePreview = document.getElementById('closePreview');
const backToEdit = document.getElementById('backToEdit');
const cancelTemplate = document.getElementById('cancelTemplate');
function openModal() {
createTemplateModal.classList.remove('hidden');
document.body.style.overflow = 'hidden';
}
function closeModal() {
createTemplateModal.classList.add('hidden');
templatePreview.classList.add('hidden');
document.body.style.overflow = '';
templateForm.reset();
templateContent.innerHTML = '';
}
const templateTypeSelector = document.getElementById('templateTypeSelector');
const closeTemplateTypeSelector = document.getElementById('closeTemplateTypeSelector');
createTemplateBtn.addEventListener('click', () => {
templateTypeSelector.classList.remove('hidden');
document.body.style.overflow = 'hidden';
});
closeTemplateTypeSelector.addEventListener('click', () => {
templateTypeSelector.classList.add('hidden');
document.body.style.overflow = '';
});
document.querySelectorAll('.template-type-btn').forEach(btn => {
btn.addEventListener('click', () => {
const templateType = btn.getAttribute('data-type');
templateTypeSelector.classList.add('hidden');
openModal();
});
});
window.addEventListener('click', (e) => {
if (e.target === templateTypeSelector) {
templateTypeSelector.classList.add('hidden');
document.body.style.overflow = '';
}
});
closeTemplateModal.addEventListener('click', closeModal);
cancelTemplate.addEventListener('click', closeModal);
const formatButtons = document.querySelectorAll('[data-format]');
formatButtons.forEach(button => {
button.addEventListener('click', () => {
const format = button.dataset.format;
document.execCommand(format, false, null);
templateContent.focus();
});
});
previewTemplate.addEventListener('click', () => {
const name = document.getElementById('templateName').value;
const category = document.getElementById('templateCategory').value;
const description = document.getElementById('templateDescription').value;
const content = templateContent.innerHTML;
if (!name || !category || !description || !content.trim()) {
const missingFields = [];
if (!name) missingFields.push('Template Name');
if (!category) missingFields.push('Category');
if (!description) missingFields.push('Description');
if (!content.trim()) missingFields.push('Content');
const notification = document.createElement('div');
notification.className = 'fixed top-4 right-4 bg-red-50 text-red-600 px-4 py-3 rounded-lg shadow-lg z-50';
notification.innerHTML = `Please fill in all required fields: ${missingFields.join(', ')}`;
document.body.appendChild(notification);
setTimeout(() => {
notification.remove();
}, 3000);
return;
}
previewContent.innerHTML = `
<div class="space-y-4">
<h2 class="text-xl font-semibold text-gray-900">${name}</h2>
<div class="text-sm text-gray-500">${category.replace('-', ' ').replace(/\b\w/g, l => l.toUpperCase())}</div>
<p class="text-gray-600">${description}</p>
<div class="border-t border-gray-200 pt-4 mt-4">
${content}
</div>
</div>
`;
templatePreview.classList.remove('hidden');
});
closePreview.addEventListener('click', () => {
templatePreview.classList.add('hidden');
});
backToEdit.addEventListener('click', () => {
templatePreview.classList.add('hidden');
});
templateForm.addEventListener('submit', (e) => {
e.preventDefault();
const notification = document.createElement('div');
notification.className = 'fixed top-4 right-4 bg-green-50 text-green-600 px-4 py-3 rounded-lg shadow-lg z-50';
notification.innerHTML = 'Template saved successfully!';
document.body.appendChild(notification);
setTimeout(() => {
notification.remove();
closeModal();
}, 2000);
});
window.addEventListener('click', (e) => {
if (e.target === createTemplateModal) {
closeModal();
}
});
const navItems = document.querySelectorAll('.workbench-nav-item');
const ezBillContent = document.getElementById('ezBillContent');
const templatesContent = document.getElementById('templatesContent');
const communityContent = document.getElementById('communityContent');
const ezBillHeader = document.getElementById('ezBillHeader');
const templatesHeader = document.getElementById('templatesHeader');
const communityHeader = document.createElement('div');
communityHeader.id = 'communityHeader';
communityHeader.innerHTML = `
<h1 class="text-2xl font-semibold text-gray-900">Community Library</h1>
<p class="text-gray-600 mt-1">Explore and use community-shared templates</p>
`;
navItems.forEach(item => {
if (!item.hasAttribute('href')) {
item.addEventListener('click', function() {
navItems.forEach(navItem => {
navItem.classList.remove('active', 'text-primary', 'pl-2');
navItem.classList.add('text-gray-700');
});
this.classList.add('active', 'text-primary', 'pl-2');
this.classList.remove('text-gray-700');
// Hide all content sections
const contentSections = [ezBillContent, templatesContent, workflowContent, reportContent, archiveContent];
contentSections.forEach(section => {
if(section) section.classList.add('hidden');
});
// Hide all headers
const headers = [ezBillHeader, templatesHeader, workflowHeader, reportHeader, archiveHeader];
headers.forEach(header => {
if(header) header.classList.add('hidden');
});
// Show appropriate content and header based on nav item
switch(this.id) {
case 'templatesNav':
templatesContent.classList.remove('hidden');
templatesHeader.classList.remove('hidden');
break;
case 'workflowNav':
workflowContent.classList.remove('hidden');
workflowHeader.classList.remove('hidden');
break;
case 'reportNav':
reportContent.classList.remove('hidden');
reportHeader.classList.remove('hidden');
break;
case 'archiveNav':
archiveContent.classList.remove('hidden');
archiveHeader.classList.remove('hidden');
break;
default:
ezBillContent.classList.remove('hidden');
ezBillHeader.classList.remove('hidden');
}
});
}
});
});

// Profile Dropdown
const profileBtn = document.getElementById('profileDropdownBtn');
const profileDropdown = document.getElementById('profileDropdown');
const profileImage = document.getElementById('profileImage');
if (profileBtn && profileDropdown && profileImage) {
function toggleProfileDropdown(e) {
e.stopPropagation();
profileDropdown.classList.toggle('hidden');
}
profileBtn.addEventListener('click', toggleProfileDropdown);
profileImage.addEventListener('click', toggleProfileDropdown);
document.addEventListener('click', function(e) {
if (profileDropdown && !profileDropdown.contains(e.target) && !profileBtn.contains(e.target)) {
profileDropdown.classList.add('hidden');
}
});
}

// Smart Blocks Composer Modal - Initialize after DOM is loaded
function initializeSmartBlocksModal() {
    const smartBlockCards = document.querySelectorAll('.smart-block-card');
    const smartBlockModal = document.getElementById('smartBlockModal');
    const closeSmartBlockModal = document.getElementById('closeSmartBlockModal');

    console.log('Found', smartBlockCards.length, 'smart block cards');
    console.log('Smart block modal:', smartBlockModal);

    smartBlockCards.forEach(card => {
        card.addEventListener('click', function() {
            console.log('Smart block card clicked:', this);
            const blockType = this.dataset.blockType;
            const blockName = this.querySelector('h3').textContent;
            
            console.log('Block type:', blockType, 'Block name:', blockName);
            
            // Set modal title and content based on selected block
            document.getElementById('smartBlockTitle').textContent = blockName;
            document.getElementById('smartBlockEditor').value = getSmartBlockTemplate(blockType);
            
            // Update stats after loading template
            updateEditorStats();
            
            // Show modal
            smartBlockModal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        });
    });

    if (closeSmartBlockModal) {
        closeSmartBlockModal.addEventListener('click', function() {
            smartBlockModal.classList.add('hidden');
            document.body.style.overflow = 'auto';
        });
    }

    // Close modal when clicking outside
    window.addEventListener('click', (e) => {
        if (e.target === smartBlockModal) {
            smartBlockModal.classList.add('hidden');
            document.body.style.overflow = 'auto';
        }
    });
}

function getSmartBlockTemplate(blockType) {
    const templates = {
        'chief_complaint': 'Patient presents with {{complaint}} that started {{duration}} ago.\n\nThe {{complaint}} is described as {{description}} and is {{severity}} in intensity.\n\nAssociated symptoms include: {{associated_symptoms}}\n\nAggravating factors: {{aggravating_factors}}\nAlleviating factors: {{alleviating_factors}}',
        'physical_exam': 'PHYSICAL EXAMINATION:\n\nGeneral Appearance: {{general_appearance}}\nVital Signs: {{vital_signs}}\n\nHEENT: {{heent}}\nCardiovascular: {{cardiovascular}}\nPulmonary: {{pulmonary}}\nAbdomen: {{abdomen}}\nExtremities: {{extremities}}\nNeurological: {{neurological}}\nSkin: {{skin}}',
        'assessment_plan': 'ASSESSMENT & PLAN:\n\n1. {{diagnosis_1}}\n   - {{plan_1}}\n   - {{medications_1}}\n   - {{follow_up_1}}\n\n2. {{diagnosis_2}}\n   - {{plan_2}}\n   - {{medications_2}}\n   - {{follow_up_2}}\n\nPatient Education: {{patient_education}}\nReturn Precautions: {{return_precautions}}',
        'vital_signs': 'VITAL SIGNS:\n\nTemperature: {{temperature}}F\nBlood Pressure: {{blood_pressure}} mmHg\nHeart Rate: {{heart_rate}} bpm\nRespiratory Rate: {{respiratory_rate}} breaths/min\nOxygen Saturation: {{oxygen_saturation}}% on {{oxygen_delivery}}\nWeight: {{weight}} lbs\nHeight: {{height}} inches\nBMI: {{bmi}}',
        'hpi': 'HISTORY OF PRESENT ILLNESS:\n\n{{patient_name}} is a {{age}}-year-old {{gender}} who presents with {{chief_complaint}}.\n\nOnset: {{onset}}\nLocation: {{location}}\nDuration: {{duration}}\nCharacter: {{character}}\nAggravating factors: {{aggravating_factors}}\nAlleviating factors: {{alleviating_factors}}\nTiming: {{timing}}\nSeverity: {{severity}}\n\nReview of Systems: {{review_of_systems}}',
        'medication_review': 'MEDICATION REVIEW:\n\nCurrent Medications:\n1. {{medication_1}} - {{dose_1}} - {{frequency_1}}\n2. {{medication_2}} - {{dose_2}} - {{frequency_2}}\n3. {{medication_3}} - {{dose_3}} - {{frequency_3}}\n\nAllergies: {{allergies}}\nAdherence: {{adherence}}\nSide Effects: {{side_effects}}\n\nRecommendations:\n- {{recommendation_1}}\n- {{recommendation_2}}'
    };
    return templates[blockType] || 'Template content for ' + blockType;
}

// Update character and variable counts
function updateEditorStats() {
    const editor = document.getElementById('smartBlockEditor');
    const charCount = document.getElementById('charCount');
    const varCount = document.getElementById('varCount');
    
    if (editor && charCount && varCount) {
        const content = editor.value;
        charCount.textContent = content.length;
        
        // Count variables ({{variable_name}} pattern)
        const variableMatches = content.match(/\{\{[^}]+\}\}/g);
        varCount.textContent = variableMatches ? variableMatches.length : 0;
    }
}

// Add event listener for editor updates
document.addEventListener('DOMContentLoaded', function() {
    const editor = document.getElementById('smartBlockEditor');
    if (editor) {
        editor.addEventListener('input', updateEditorStats);
    }
    
    // Initialize Smart Blocks modal functionality
    initializeSmartBlocksModal();
});
</script>

<!-- Smart Blocks Composer Modal -->
<div id="smartBlockModal" class="fixed inset-0 bg-gray-500 bg-opacity-50 hidden flex items-center justify-center z-50">
    <div class="bg-white rounded-lg w-[95vw] h-[90vh] flex flex-col shadow-2xl">
        <!-- Modal Header -->
        <div class="p-6 border-b border-gray-200">
            <div class="flex items-center justify-between">
                <div>
                    <h3 id="smartBlockTitle" class="text-xl font-semibold text-gray-900 flex items-center">
                        <i class="ri-brain-line mr-2 text-purple-600"></i>
                        Smart Block Editor
                    </h3>
                    <p class="text-sm text-gray-500 mt-1">Edit and customize your smart block template</p>
                </div>
                <button id="closeSmartBlockModal" class="text-gray-400 hover:text-gray-600 p-2 rounded-full hover:bg-gray-100">
                    <i class="ri-close-line text-xl"></i>
                </button>
            </div>
        </div>

        <!-- Modal Content -->
        <div class="flex-1 flex overflow-hidden">
            <!-- Center Column - Editor (8/12) -->
            <div class="flex-1 bg-white border-r border-gray-200 flex flex-col">
                <div class="p-4 border-b border-gray-200">
                    <div class="flex items-center justify-between">
                        <h4 class="text-lg font-medium text-gray-900 flex items-center">
                            <i class="ri-edit-box-line mr-2 text-purple-600"></i>
                            Template Editor
                        </h4>
                        <div class="flex items-center space-x-3">
                            <button class="px-3 py-1 bg-gray-50 text-gray-600 hover:bg-gray-100 rounded text-sm flex items-center">
                                <i class="ri-eye-line mr-1"></i>Preview
                            </button>
                            <button class="px-3 py-1 bg-purple-600 text-white rounded text-sm hover:bg-purple-700">
                                <i class="ri-save-line mr-1"></i>Save Template
                            </button>
                        </div>
                    </div>
                    
                    <!-- Template Metadata -->
                    <div class="grid grid-cols-2 gap-4 mt-3 text-sm">
                        <div>
                            <label class="block text-xs font-medium text-gray-700">Template Name</label>
                            <input type="text" class="w-full p-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="Enter template name">
                        </div>
                        <div>
                            <label class="block text-xs font-medium text-gray-700">Category</label>
                            <select class="w-full p-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500">
                                <option>Chief Complaint</option>
                                <option>Physical Exam</option>
                                <option>Assessment & Plan</option>
                                <option>Vital Signs</option>
                                <option>History of Present Illness</option>
                                <option>Medication Review</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <!-- Main Editor -->
                <div class="flex-1 p-4">
                    <textarea id="smartBlockEditor" class="w-full h-full p-4 border border-gray-300 rounded-lg text-sm font-mono resize-none focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="Enter your smart block template content here...

Use {{variable_name}} for template variables that will be replaced with actual data.

Example:
Patient {{patient_name}} presents with {{chief_complaint}} that started {{duration}} ago."></textarea>
                </div>
                
                <!-- Editor Footer -->
                <div class="p-4 border-t border-gray-200 bg-gray-50">
                    <div class="flex items-center justify-between text-sm">
                        <div class="flex items-center space-x-4">
                            <span class="text-gray-500">Characters: <span id="charCount">0</span></span>
                            <span class="text-gray-500">Variables: <span id="varCount">0</span></span>
                            <span class="text-green-600 flex items-center">
                                <i class="ri-check-line mr-1"></i>Auto-saved
                            </span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <button class="px-2 py-1 text-gray-500 hover:text-gray-700" title="Bold">
                                <i class="ri-bold"></i>
                            </button>
                            <button class="px-2 py-1 text-gray-500 hover:text-gray-700" title="Italic">
                                <i class="ri-italic"></i>
                            </button>
                            <button class="px-2 py-1 text-gray-500 hover:text-gray-700" title="Insert Variable">
                                <i class="ri-code-line"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Column - Reference Cards (4/12) -->
            <div class="w-80 bg-white">
                <div class="p-4 border-b border-gray-200">
                    <h4 class="text-lg font-medium text-gray-900 flex items-center">
                        <i class="ri-information-line mr-2 text-purple-600"></i>
                        Template Reference
                    </h4>
                    <p class="text-xs text-gray-500 mt-1">Common variables and examples</p>
                </div>
                
                <div class="p-4 h-full overflow-y-auto">
                    <div class="space-y-4">
                        <!-- Patient Variables Card -->
                        <div class="p-3 bg-blue-50 border border-blue-200 rounded-lg">
                            <h5 class="font-medium text-blue-900 text-sm mb-2 flex items-center">
                                <i class="ri-user-line mr-2"></i>Patient Variables
                            </h5>
                            <div class="space-y-1 text-xs text-blue-800">
                                <div class="font-mono">{{patient_name}}</div>
                                <div class="font-mono">{{age}}</div>
                                <div class="font-mono">{{gender}}</div>
                                <div class="font-mono">{{mrn}}</div>
                                <div class="font-mono">{{dob}}</div>
                            </div>
                        </div>

                        <!-- Clinical Variables Card -->
                        <div class="p-3 bg-green-50 border border-green-200 rounded-lg">
                            <h5 class="font-medium text-green-900 text-sm mb-2 flex items-center">
                                <i class="ri-stethoscope-line mr-2"></i>Clinical Variables
                            </h5>
                            <div class="space-y-1 text-xs text-green-800">
                                <div class="font-mono">{{chief_complaint}}</div>
                                <div class="font-mono">{{vital_signs}}</div>
                                <div class="font-mono">{{blood_pressure}}</div>
                                <div class="font-mono">{{heart_rate}}</div>
                                <div class="font-mono">{{temperature}}</div>
                            </div>
                        </div>

                        <!-- Time Variables Card -->
                        <div class="p-3 bg-purple-50 border border-purple-200 rounded-lg">
                            <h5 class="font-medium text-purple-900 text-sm mb-2 flex items-center">
                                <i class="ri-calendar-line mr-2"></i>Date & Time Variables
                            </h5>
                            <div class="space-y-1 text-xs text-purple-800">
                                <div class="font-mono">{{date}}</div>
                                <div class="font-mono">{{time}}</div>
                                <div class="font-mono">{{provider_name}}</div>
                                <div class="font-mono">{{visit_type}}</div>
                                <div class="font-mono">{{duration}}</div>
                            </div>
                        </div>

                        <!-- Medication Variables Card -->
                        <div class="p-3 bg-orange-50 border border-orange-200 rounded-lg">
                            <h5 class="font-medium text-orange-900 text-sm mb-2 flex items-center">
                                <i class="ri-medicine-bottle-line mr-2"></i>Medication Variables
                            </h5>
                            <div class="space-y-1 text-xs text-orange-800">
                                <div class="font-mono">{{medication_1}}</div>
                                <div class="font-mono">{{dose_1}}</div>
                                <div class="font-mono">{{frequency_1}}</div>
                                <div class="font-mono">{{allergies}}</div>
                                <div class="font-mono">{{adherence}}</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

</body>
</html>
